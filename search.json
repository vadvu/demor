[{"path":"https://vadvu.github.io/demor/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 demor authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (‚ÄúSoftware‚Äù), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED ‚Äú‚Äù, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Get started with `demor`","text":"can install development version demor GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"vadvu/demor\")"},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"get-rosbris-data","dir":"Articles","previous_headings":"","what":"Get Rosbris data","title":"Get started with `demor`","text":"data ‚ÄúRussian Fertility Mortality database‚Äù (2024) presented demor datasets long-format (mortality/fertility 1/5-year age groups 1989 2022). example usage placed , data mortality 5-year age groups presented: Lets see data Russia 2010 males total population (urban rural)","code":"dbm <- demor::rosbris_mortality_pop_5  # for 1-year age interval # dbm <- demor::rosbris_mortality_pop_1 dbm[dbm$year==2010 & dbm$code==1100 & dbm$sex==\"m\" & dbm$territory==\"t\",] #>       year code territory sex age       mx       N        Dx #> 20445 2010 1100         t   m   0 0.008823  869388   7670.61 #> 20446 2010 1100         t   m   1 0.000604 3222450   1946.36 #> 20447 2010 1100         t   m   5 0.000355 3613276   1282.71 #> 20448 2010 1100         t   m  10 0.000387 3398894   1315.37 #> 20449 2010 1100         t   m  15 0.001186 4353344   5163.07 #> 20450 2010 1100         t   m  20 0.002546 6193325  15768.21 #> 20451 2010 1100         t   m  25 0.004491 6002262  26956.16 #> 20452 2010 1100         t   m  30 0.006808 5395865  36735.05 #> 20453 2010 1100         t   m  35 0.007934 4973298  39458.15 #> 20454 2010 1100         t   m  40 0.009782 4464789  43674.57 #> 20455 2010 1100         t   m  45 0.013354 5140274  68643.22 #> 20456 2010 1100         t   m  50 0.018567 5207919  96695.43 #> 20457 2010 1100         t   m  55 0.026250 4333619 113757.50 #> 20458 2010 1100         t   m  60 0.037143 3117320 115786.62 #> 20459 2010 1100         t   m  65 0.049925 1573662  78565.08 #> 20460 2010 1100         t   m  70 0.068599 2149929 147482.98 #> 20461 2010 1100         t   m  75 0.097635 1077916 105242.33 #> 20462 2010 1100         t   m  80 0.138043  714191  98589.07 #> 20463 2010 1100         t   m  85 0.198593  231350  45944.49 #>                       name #> 20445 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20446 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20447 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20448 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20449 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20450 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20451 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20452 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20453 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20454 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20455 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20456 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20457 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20458 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20459 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20460 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20461 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20462 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 20463 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è"},{"path":[]},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"life-table","dir":"Articles","previous_headings":"Mortality","what":"Life table","title":"Get started with `demor`","text":"Now one can create life table based gotten data 2010-Russia using LT(). Note, axa_x age 0 modeled Evgeny M. Andreev Kingkade (2015), function can use user-specific axa_x argument ax. However, despite plethora methods construct life table ‚Äúbased upon different assumptions, applied actual mortality rates result significant differences importance mortality analysis.‚Äù (, 1977, p.¬†70, cite Preston, Heuveline, Guillot 2001, 47). example, changing a0a_0 0.5 increases life expectancy e0e_0 ‚âà+0.01\\approx +0.01 2010 Russian male population, 4 days applied human life span. Note, life table one can compute functions (just exe_x) quantities interest: Crude death rate CDR=1/e0=‚àëxDx/‚àëxNxCDR = 1/e_0 = \\sum_x D_x / \\sum_x N_x death rate age x:1/exx: 1/e_x Probability surviving age xx age yy: p(x,y)=ly/lx‚âàexp(‚àímx√ón)p(x,y)=l_y/l_x \\approx exp(-m_x \\times n) Probability newborn die ages xx x+nx+n: dxn/l0d_x^n/l_0 Probability newborn die ages xx yy: (lx‚àíly)/l0(l_x-l_y)/l_0 Probability newborn survive age xx: p(x)=lx/l0p(x) = l_x/l_0 Probability newborn die age xx: q(x)=1‚àípxq(x) = 1-p_x Life course ratio age xx yy fraction person-years lived age xx onward: Ty/TxT_y/T_x Crude estimate number births needed ‚Äúreplace‚Äù expected deaths: P/e0P/e_0 PP total population See also Preston, Heuveline, Guillot (2001). life table one important demographic tools can used mortality, decrement processes (ex., marital, occupation, migration status etc).","code":"rus2010 <- dbm[dbm$year==2010 & dbm$code==1100 & dbm$sex==\"m\" & dbm$territory==\"t\",]  LT(   age = rus2010$age,    sex = \"m\",    mx = rus2010$mx #age specific mortality rates (mx)   ) #>       age      mx    ax      qx      lx      dx      Lx       Tx    ex #>  [1,]   0 0.00882 0.132 0.00876 1.00000 0.00876 0.99885 63.04122 63.04 #>  [2,]   1 0.00060 2.000 0.00241 0.99124 0.00239 3.96019 62.04238 62.59 #>  [3,]   5 0.00036 2.500 0.00177 0.98885 0.00175 4.93988 58.08218 58.74 #>  [4,]  10 0.00039 2.500 0.00193 0.98710 0.00191 4.93072 53.14231 53.84 #>  [5,]  15 0.00119 2.500 0.00591 0.98519 0.00582 4.91139 48.21159 48.94 #>  [6,]  20 0.00255 2.500 0.01265 0.97937 0.01239 4.86586 43.30020 44.21 #>  [7,]  25 0.00449 2.500 0.02221 0.96698 0.02147 4.78120 38.43434 39.75 #>  [8,]  30 0.00681 2.500 0.03347 0.94550 0.03165 4.64841 33.65314 35.59 #>  [9,]  35 0.00793 2.500 0.03890 0.91386 0.03555 4.48042 29.00473 31.74 #> [10,]  40 0.00978 2.500 0.04774 0.87831 0.04193 4.28672 24.52431 27.92 #> [11,]  45 0.01335 2.500 0.06461 0.83638 0.05404 4.04679 20.23759 24.20 #> [12,]  50 0.01857 2.500 0.08872 0.78234 0.06941 3.73817 16.19080 20.70 #> [13,]  55 0.02625 2.500 0.12317 0.71293 0.08781 3.34513 12.45263 17.47 #> [14,]  60 0.03714 2.500 0.16994 0.62512 0.10623 2.86003  9.10751 14.57 #> [15,]  65 0.04992 2.500 0.22193 0.51889 0.11516 2.30657  6.24748 12.04 #> [16,]  70 0.06860 2.500 0.29278 0.40374 0.11821 1.72316  3.94091  9.76 #> [17,]  75 0.09764 2.500 0.39240 0.28553 0.11204 1.14754  2.21775  7.77 #> [18,]  80 0.13804 2.500 0.51313 0.17349 0.08902 0.64489  1.07021  6.17 #> [19,]  85 0.19859 5.035 1.00000 0.08447 0.08447 0.42532  0.42532  5.04"},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"human-life-indicator-hli","dir":"Articles","previous_headings":"Mortality","what":"Human Life Indicator (HLI)","title":"Get started with `demor`","text":"good alternative human development indicator (HDI) human life indicator (HLI) proposed Ghislandi, Sanderson, Scherbov (2019). requires just mxm_x (based life table). calculated geometric mean lifespans: HLI=‚àèxœâ(x+ax)dxHLI = \\prod_x^\\omega{(x+a_x)^{d_x}} xx age axa_x, dxd_x functions life table corresponds age xx. Calculation demor follows (one need mxm_x):","code":"hli(   age = rus2010$age,    mx = rus2010$mx,   sex = \"m\"   ) #> [1] 57.18468"},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"gini-coefficient","dir":"Articles","previous_headings":"Mortality","what":"Gini coefficient","title":"Get started with `demor`","text":"Shkolnikov, Andreev, Begun (2003) note, ‚Äúpresent, average level life expectancy high many countries interesting study extent advantage equally accessible people‚Äù. (p.¬†306). One tools analysing mortality inequality within population (, rather, life table) Gini index, similar ‚Äúusual‚Äù index widely used economics. Life table Gini, G0G_0, shows degree inter-individual variability age death can interpreted fields (G0‚àà[0,1]G_0 \\[0,1]; higher G0G_0, higher inequality vice versa). Also one can interested ‚Äúabsolute‚Äù Gini coefficient (aka AID - Absolute Inter-individual Difference) G0abs=G0√óe0G_0^{abs} = G_0 \\times e_0 ‚Äúequal average inter-individual difference length life measured years.‚Äù (Shkolnikov, Andreev, Begun 2003, 312) function gini computes Gini index well produces data Lorenz curve - graphical representation inequality. formulas calculations derived Shkolnikov, Andreev, Begun (2003) (based Hanada (1983) formulation). Note, Shkolnikov, Andreev, Begun (2003) G0=0.13G_0 = 0.13 (see p.¬†310, figure 1), using gini one obtains 0.1295. Also note larger age interval, less accurate estimate , since based discrete approximation continuous function. example Lorenz curve can created using ggplot2 gini output.  Note, one can calculate Gini inequality index, also Drewnowski‚Äôs index equality D0=1‚àíG0D_0 = 1 - G_0 proposed Aburto et al. (2022) (, Russian 1995 females 1‚àí0.13=0.871-0.13=0.87) also can serve indicator shape mortality patterns.","code":"dbm.1 <- demor::rosbris_mortality_pop_1 mx <- dbm.1[dbm.1$code==1100 & dbm.1$territory==\"t\" & dbm.1$sex==\"f\" & dbm.1$year == 1995,]$mx res = gini(age = 0:100, mx = mx, sex = \"f\") res$Gini #> $G0 #>        ex  #> 0.1295455  #>  #> $G0_abs #>      ex  #> 9.27805 res$plot %>%    ggplot(aes(Fx, Phix))+   geom_line(color = \"red\")+   geom_abline(intercept = 0, slope = 1)+   scale_x_continuous(limits=c(0,1), expand = c(0, 0)) +   scale_y_continuous(limits=c(0,1),expand = c(0, 0)) +   theme_classic()+   labs(x = \"Proportion in population\", y = \"Proportion in person-years of life\")+   ggtitle(\"Lorenz curve: Russia, 1995, females\",            subtitle = paste0(\"G0 = \", round(res$Gini$G0, 2), \", \",                              \"G0 abs = \", round(res$Gini$G0_abs, 2), \", \",                             \"e0 = \", round(res$Gini$G0_abs/res$Gini$G0, 2))           )"},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"e-dagger","dir":"Articles","previous_headings":"Mortality","what":"e-dagger","title":"Get started with `demor`","text":"Another measure mortality inequality ‚Äúe-dagger‚Äù, ex‚Ä†e^{\\dagger}_x, proposed Vaupel Romo (2003), approximation ‚Äúaverage life expectancy lost death‚Äù (Vaupel Romo 2003, 206). demor function edagger calculation ‚Äúe-dagger‚Äù age xx, ex‚Ä†e^{\\dagger}_x: Hence, e0‚Ä†e_0^{\\dagger} Russian female population 1995 12.72. ex‚Ä†e^{\\dagger}_x one can also calculate life table entropy HxH_x(see, ex., Wrycza, Missov, Baudisch 2015) simply Hx=ex‚Ä†/exH_x = e^{\\dagger}_x/e_x. Usually one quantity entropy presented H0H_0, sometimes denoted H‚Äæ\\bar H, e0‚Ä†/e0e^{\\dagger}_0/e_0. Note larger age interval, less accurate estimate , since based discrete approximation continuous function. inequality indicators comparisons, see Shkolnikov, Andreev, Begun (2003), Wrycza, Missov, Baudisch (2015) Wilmoth Horiuchi (1999) well LifeIneq package.","code":"mx <- dbm.1[dbm.1$code==1100 & dbm.1$territory==\"t\" & dbm.1$sex==\"f\" & dbm.1$year == 1995,]$mx res = edagger(age = 0:100, mx = mx, sex = \"f\") res[c(1, 26, 51, 76)] #>         0        25        50        75  #> 12.719536 10.968361  9.137110  5.201578"},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"years-of-life-lost-yll","dir":"Articles","previous_headings":"Mortality","what":"Years of Life Lost (YLL)","title":"Get started with `demor`","text":"One popular (relatively young) measure lifespan inequality ‚Äúyears life lost‚Äù (YLL) proposed Martinez et al. (2019). authors claim, ‚ÄúYLL valuable measure public health surveillance, particularly quantifying level trends premature mortality, identification leading causes premature deaths monitoring progress YLL key indicator population health‚Äù (Martinez et al. 2019, 1368). Authors proposed different metrics YLL: Absolute number YLL: YLLx,t,c=Dx,t,c*SLExYLL_{x,t,c}=D_{x,t,c}*SLE_x calculated age x, time t cause death c. YLL whole population just sum YLLxYLL_x. SLE standard life expectancy invariant time, sex population (‚Äôs meaning straightforward: potential maximum life span individual, exposed avoidable health risks severe injuries receives appropriate health services), DxD_x number deaths age x. course, one can calculate YLL specific cause c, overall mortality called -causes YLL. YLL proportion: YLLx,t,cp=YLLx,t,c/YLLx,tYLL^p_{x,t,c}=YLL_{x,t,c}/YLL_{x,t} just cause specific YLL divided -causes YLL. YLL rate: YLLx,t,cr=[YLLx,t,c/Px,t]*100‚Ä≤000YLL^r_{x,t,c}=[YLL_{x,t,c}/P_{x,t}] * 100'000 Px,tP_{x,t} population. Age-standardized YLL rate: ASYRx,t,c=‚àëxœâ[YLLx,t,cr*Wx]ASYR_{x,t,c} = \\sum_x^\\omega{[YLL^r_{x,t,c}*W_x]} WxW_x standard population weight age x, œâ\\omega oldest, closing age (ex., 85+ 100+). words, ‚Äôs just direct standardization YLLx,t,crYLL^r_{x,t,c}. Let‚Äôs calculate -cause YLL, Yll rate ASYR using Rosbris data downloaded. ASYR one needs standard population. Let‚Äôs use 2010 population standard (note, case ASYR equals YLL rate use 2010 mortality). Also one can calculate different YLL measures using standards provided demor dataframe.","code":"#YLL yll(rus2010$Dx, type = \"yll\") #> $yll_all #> [1] 33640561 #>  #> $yll #>  [1]  705159.2  174024.0  108414.6  104611.4  384855.2 1096994.4 1741367.9 #>  [8] 2190511.0 2157177.1 2171936.4 3075902.7 3860081.6 3989475.5 3502545.3 #> [15] 2002623.9 3063221.5 1729131.5 1233349.3  349178.1 #YLL rate yll(rus2010$Dx, type = \"yll.r\", pop = rus2010$N) #> $yll.r_all #> [1] 50945.02 #>  #> $yll.r #>  [1]  81109.836   5400.365   3000.453   3077.806   8840.451  17712.527 #>  [7]  29011.861  40596.105  43375.182  48645.890  59839.275  74119.462 #> [13]  92058.751 112357.578 127258.833 142480.124 160414.307 172691.796 #> [19] 150930.678 #ASYR yll(rus2010$Dx, type = \"asyr\", pop = rus2010$N, w = rus2010$N/sum(rus2010$N)) #> $asyr_all #> [1] 50945.02 #>  #> $asyr #>  [1] 1067.8879  263.5407  164.1824  158.4227  582.8220 1661.2803 2637.1149 #>  [8] 3317.2939 3266.8132 3289.1646 4658.1245 5845.6793 6041.6326 5304.2289 #> [15] 3032.7590 4638.9202 2618.5841 1867.7751  528.7928 demor::sle_stand"},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"age-decomposition-of-differences-in-life-expectancies","dir":"Articles","previous_headings":"Mortality","what":"Age decomposition of differences in life expectancies","title":"Get started with `demor`","text":"Also one can simple decomposition 2 populations. Lets use Russia-2000 base population Russia-2010 compared population. function implements three almost identical discrete methods proposed almost simultaneously: –ê–Ω–¥—Ä–µ–µ–≤ (1982), Arriaga (1984) Pollard (1982). let us plot result decomp using ggplot2:","code":"rus2010 <- dbm[dbm$year==2010 & dbm$code==1100 & dbm$sex==\"m\" & dbm$territory==\"t\",] rus2000 <- dbm[dbm$year==2000 & dbm$code==1100 & dbm$sex==\"m\" & dbm$territory==\"t\",]  dec <- decomp(mx1 = rus2000$mx,                mx2 = rus2010$mx,                age = rus2000$age,                method = \"andreev\") head(dec) #>   age   ex1   ex2     lx2  dex ex12  ex12_prc #> 1   0 58.99 63.04 1.00000 4.05 0.54 13.235294 #> 2   1 59.04 62.59 0.99124 3.55 0.11  2.696078 #> 3   5 55.29 58.74 0.98885 3.45 0.07  1.715686 #> 4  10 50.45 53.84 0.98710 3.39 0.05  1.225490 #> 5  15 45.59 48.94 0.98519 3.35 0.22  5.392157 #> 6  20 41.05 44.21 0.97937 3.16 0.46 11.274510 ggplot(dec, aes( as.factor(age), ex12))+   geom_bar(stat = \"identity\", color = \"black\", fill = \"orange3\")+   theme_minimal()+   labs(x = \"Age-groups\",         y = \"–°ontribution to the e0 difference\")+   annotate(\"text\", x = \"70\", y = 0.5, label = paste0(\"Total difference in e0: \", sum(dec$ex12)))+   geom_text(aes(label = ex12), vjust = 1.5, color = \"white\", size = 3.5)"},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"age-and-cause-decomposition-of-differences-in-life-expectancies","dir":"Articles","previous_headings":"Mortality","what":"Age and cause decomposition of differences in life expectancies","title":"Get started with `demor`","text":"Also one can decomposition 2 populations age causes. Lets use example E. M. Andreev Shkolnikov (2012) data US England Wales men mortality causes presented. Lets see data mdecomp 2 lists arrays 2 population required. let us plot result mdecomp using ggplot2. requires data transformations","code":"data(\"mdecompex\") head(mdecompex) #> # A tibble: 6 √ó 9 #>     age neoplasms circulatory respiratory  digestive  accident     other     all #>   <dbl>     <dbl>       <dbl>       <dbl>      <dbl>     <dbl>     <dbl>   <dbl> #> 1     0 0.0000349  0.000173    0.000188   0.000151   0.000377  0.00669   7.62e-3 #> 2     1 0.0000309  0.0000155   0.0000220  0.00000930 0.000163  0.000112  3.53e-4 #> 3     5 0.0000313  0.00000560  0.00000687 0.00000324 0.0000792 0.0000409 1.67e-4 #> 4    10 0.0000305  0.0000127   0.00000896 0.00000286 0.000127  0.0000490 2.31e-4 #> 5    15 0.0000424  0.0000322   0.0000141  0.00000401 0.000765  0.0000821 9.40e-4 #> 6    20 0.0000600  0.0000511   0.0000158  0.00000928 0.00114   0.000130  1.41e-3 #> # ‚Ñπ 1 more variable: cnt <chr> #US men mx1 <- mdecompex %>%    filter(cnt == \"usa\") %>%    select(-cnt, -age) %>% select(all, everything()) %>%    as.list()  #England and Wales men mx2 <- mdecompex %>%    filter(cnt == \"eng\") %>%    select(-cnt, -age) %>% select(all, everything()) %>%    as.list()  decm <- mdecomp(mx1 = mx1,                mx2 = mx2,                sex = \"m\",                age = unique(mdecompex$age),                method = \"andreev\"               ) head(decm) #>   age ex12     neoplasms  circulatory   respiratory     digestive   accident #> 1   0 0.13  0.0009474709 7.090137e-03  0.0042212672  7.167768e-03 0.02282901 #> 2   1 0.03 -0.0025030458 5.483996e-04  0.0020247182  6.245908e-04 0.03637029 #> 3   5 0.02 -0.0016468368 8.262058e-05 -0.0001300012  9.929857e-05 0.02178479 #> 4  10 0.01 -0.0014084238 4.993427e-04 -0.0002451017  8.338450e-05 0.01117647 #> 5  15 0.13 -0.0032690840 2.657675e-03  0.0005053688 -2.052103e-04 0.13796276 #> 6  20 0.17 -0.0009648903 2.773336e-03 -0.0016773417 -8.983808e-04 0.18353643 #>           other #> 1  0.0877443429 #> 2 -0.0070649563 #> 3 -0.0001898743 #> 4 -0.0001056675 #> 5 -0.0076515085 #> 6 -0.0127691565 decm_plot <- decm[,c(1,3)] decm_plot$group = colnames(decm)[3] colnames(decm_plot)[2]<-\"ex12\" for(i in 4:ncol(decm)){   decm_plot_i <- decm[,c(1,i)]   decm_plot_i$group = colnames(decm)[i]   colnames(decm_plot_i)[2]<-\"ex12\"   decm_plot <- rbind(decm_plot,decm_plot_i)   rm(decm_plot_i) }  for (i in unique(decm_plot$group)){   decm_plot[decm_plot$group==i,]$group <- paste0(i, \" (\", round(sum(decm_plot[decm_plot$group==i,]$ex12),2), \")\") }  ggplot(data = decm_plot, aes(x = as.factor(age), y = ex12, fill = group))+   geom_bar(stat=\"identity\", colour = \"black\")+   theme_minimal()+   scale_fill_brewer(palette=\"Set1\")+   labs(x = \"Age\", y = \"Contribution to difference in ex\", fill = \"Cause (contribution):\",         caption  = paste0(\"Total difference in ex = \", sum(decm[,2]))        )"},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"multiple-decrement-life-table","dir":"Articles","previous_headings":"Mortality","what":"Multiple Decrement Life Table","title":"Get started with `demor`","text":"Also one can construct Multiple Decrement Life Table expands usual life table adding additional columns (qxi,dxi,lxi‚àÄcausesiq_x^, d_x^, l_x^\\ \\forall \\ \\text{causes} \\ ) specific decrement causes. Note, mx=‚àëimxim_x = \\sum_i m_x^user specify mxm_x (first array list). Let us use shorten vesrion data previous example, using overall mxm_x mxim_x^neoplasm. table one can calculate, ex., Proportion newborn eventually die cause : l0i/l0l_0^/l_0 Proportion people survive age xx die cause : lxi/lxl_x^/l_x","code":"mx <- mx1[c(\"all\", \"neoplasms\")] age = unique(mdecompex$age) mlt.res = MLT(age, mx) head(mlt.res) #>      age      mx    ax      qx      lx      dx      Lx       Tx    ex #> [1,]   0 0.00762 0.134 0.00757 1.00000 0.00757 0.99899 74.65476 74.65 #> [2,]   1 0.00035 2.000 0.00141 0.99243 0.00140 3.96693 73.65578 74.22 #> [3,]   5 0.00017 2.500 0.00084 0.99103 0.00083 4.95310 69.68885 70.32 #> [4,]  10 0.00023 2.500 0.00115 0.99021 0.00114 4.94818 64.73574 65.38 #> [5,]  15 0.00094 2.500 0.00469 0.98907 0.00464 4.93373 59.78756 60.45 #> [6,]  20 0.00141 2.500 0.00702 0.98443 0.00691 4.90486 54.85384 55.72 #>      qx_neoplasms dx_neoplasms lx_neoplasms ex_no_neoplasms #> [1,]      0.00003      0.00003      0.24395           84.29 #> [2,]      0.00012      0.00012      0.24392           83.93 #> [3,]      0.00015      0.00015      0.24380           80.03 #> [4,]      0.00015      0.00015      0.24365           75.08 #> [5,]      0.00021      0.00021      0.24350           70.14 #> [6,]      0.00030      0.00030      0.24329           65.40"},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"associated-single-decrement-life-table","dir":"Articles","previous_headings":"Mortality","what":"Associated single decrement life table","title":"Get started with `demor`","text":"asdt() function calculates associated single decrement life table (ASDT) causes death (cause-deleted life table). words, function one can answer question ‚Äúlife expectancy mortality cause ?‚Äù natural expansion Multiple Decrement Life Table (MLT function, see ) example demor data (easy guess, taken E. M. Andreev Shkolnikov (2012)) mortality US men 2002 causes added. Let show exe_x deaths neoplasm (). One can plot results using ggplot2:","code":"data(\"asdtex\")  asdt_neoplasm <- asdt(age = asdtex$age,                        sex = \"m\",                       m_all = asdtex$all,                        m_i = asdtex$neoplasms,                        full = F,                        method = \"chiang1968\")  head(asdt_neoplasm[,c(\"age\", \"ex\", \"ex_without_i\")]) #>   age    ex ex_without_i #> 1   0 74.65        84.29 #> 2   1 74.22        83.93 #> 3   5 70.32        80.03 #> 4  10 65.38        75.08 #> 5  15 60.45        70.14 #> 6  20 55.72        65.40 ggplot(data = asdt_neoplasm, aes(x = age))+   geom_line(aes(y = ex, color = \"ex all\"), size = 1)+   geom_line(aes(y = ex_without_i, color = \"ex without neoplasms\"), size = 1)+   theme_linedraw() ggplot(data = asdt_neoplasm, aes(x = age))+   geom_line(aes(y = lx, color = \"lx all\"), size = 1)+   geom_line(aes(y = l_not_i, color = \"lx without neoplasms\"), size = 1)+   geom_hline(yintercept = 0.5, linetype = \"dashed\")+   theme_linedraw()"},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"mortality-models-for-mx-approximation","dir":"Articles","previous_headings":"Mortality","what":"Mortality models for mx approximation","title":"Get started with `demor`","text":"demor function mort.approx modeling mx. Now ‚ÄúGompertz‚Äù ‚ÄúBrass‚Äù supported (see Preston, Heuveline & Guillot, 2001 details functions). Function returns list estimated model dataframe predicted mx. example shows model try approximate mx russian men 2010 using Brass function russian mortality 2000 standard mortality. Lets plot modeled observed mx.","code":"rus2010 <- dbm[dbm$year==2010 & dbm$code==1100 & dbm$sex==\"m\" & dbm$territory==\"t\",] rus2000 <- dbm[dbm$year==2000 & dbm$code==1100 & dbm$sex==\"m\" & dbm$territory==\"t\",]   brass_2010 <- mort.approx(mx = rus2010$mx,                           age = rus2010$age,                           model = \"Brass\",                           standard.mx = rus2000$mx,                           sex = \"m\") brass_2010[[1]] #> Nonlinear regression model #>   model: 0.5 * log((qx/(1 - qx))) ~ a + b * stand.logit #>    data: parent.frame() #>        a        b  #> -0.06074  1.07357  #>  residual sum-of-squares: 0.09628 #>  #> Number of iterations to convergence: 1  #> Achieved convergence tolerance: 1.178e-08 brass_2010[[2]] %>%    mutate(mx = rus2010$mx) %>%    ggplot(aes(x = age))+   geom_line(aes(y = log(mx), color = \"Observed\"), linewidth = 1)+   geom_line(aes(y = log(mx.pred), color = \"Predicted\"), linewidth = 1)+   theme_linedraw()+   scale_color_manual(values = c(\"blue\", \"red\"))+   labs(x = \"Age\", y = \"ln mx\") model1 <- mort.approx(mx = rus2010$mx[-c(1:6)], age = rus2010$age[-c(1:6)], model = \"Gompertz\")"},{"path":[]},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"get-fertility-data","dir":"Articles","previous_headings":"Fertility","what":"Get fertility data","title":"Get started with `demor`","text":"data ‚ÄúRussian Fertility Mortality database‚Äù (2024) presented demor datasets long-format (mortality/fertility 1/5-year age groups 1989 2022). Lets get basic fertility data (asFR fxf_x) demor: example Russia-2010 follows","code":"dbf <- demor::rosbris_fertility_pop_1 rus2010f <- dbf[dbf$year==2010 & dbf$code==1100 & dbf$territory==\"t\",] head(rus2010f) #>       year code territory age       fx       N       Bx                 name #> 16155 2010 1100         t  15 0.002828  718636  2032.30 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 16156 2010 1100         t  16 0.007868  738942  5814.00 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 16157 2010 1100         t  17 0.019538  806058 15748.76 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 16158 2010 1100         t  18 0.036598  915096 33490.68 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 16159 2010 1100         t  19 0.054816 1035519 56763.01 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è #> 16160 2010 1100         t  20 0.068020 1128146 76736.49 –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è"},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"tfr","dir":"Articles","previous_headings":"Fertility","what":"TFR","title":"Get started with `demor`","text":"Now one can compute total fertility age (TFR) - popular measure fertility - standardized measure ‚Äúaverage number children woman bear survived end reproductive age span experienced age particular set age-specific fertility ages‚Äù (Preston, Heuveline, Guillot 2001, 95). Surely, using tfr function one can compute TFR parity whereby using fxpf_x^p instead overall fxf_x.","code":"tfr(   #asFR   rus2010f$fx,   #age interval   age.int = 1     ) #> [1] 1.565588"},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"tempo-adjusted-tfr","dir":"Articles","previous_headings":"Fertility","what":"Tempo-adjusted TFR","title":"Get started with `demor`","text":"However, period ‚ÄúTFR problematic measure assessing need impact policy changes , generally, studying fertility trends conjunction selected social economic trends‚Äù (Sobotka Lutz 2010, 639). One correction usual TFR tempo (meaning fertility schedule) adjusted TFR, TFR‚Äô, proposed Bongaarts Feeney (1998) (see also Bongaarts Feeney (2000)). calculate , one can use tatfr function:","code":"dbf5 <- demor::rosbris_fertility_pop_5 %>% dplyr::filter(code == 1100 & year %in% 2009:2011 & territory == \"t\")  past_fx = dbf5[dbf5$year == 2009,] %>% select(6:10) %>% as.list() present_fx = dbf5[dbf5$year == 2010,] %>% select(6:10) %>% as.list() post_fx = dbf5[dbf5$year == 2011,] %>% select(6:10) %>% as.list()  tatfr(past_fx = past_fx, present_fx = present_fx, post_fx = post_fx, age = seq(15, 50, 5)) #> $tatfr #> [1] 1.726415 #>  #> $tatfr_i #> [1] 0.91379429 0.57933163 0.16968478 0.04180952 0.02179487 #>  #> $tfr #> [1] 1.584185 #>  #> $tfr_i #> [1] 0.799570 0.567745 0.156110 0.039510 0.021250"},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"mac","dir":"Articles","previous_headings":"Fertility","what":"MAC","title":"Get started with `demor`","text":"MAC mean age childbearing. One can compute using fxf_x. Surely, using mac function one can compute mean age childbearing parity whereby using fxpf_x^p instead overall fxf_x.","code":"mac(   #asFR   rus2010f$fx,   #array with ages   age = 15:55     ) #> [1] 27.65"},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"fertility-models-for-asfr-approximation","dir":"Articles","previous_headings":"Fertility","what":"Fertility models for ASFR approximation","title":"Get started with `demor`","text":"demor function fert.approx modeling ASFR. Now ‚ÄúHadwiger‚Äù, ‚ÄúGamma‚Äù, ‚ÄúBeta‚Äù ‚ÄúBrass‚Äù supported (see Peristera Kostaki (2007) details functions). Hadwiger model (optimal choice balance simplicity accuracy) follows: f(age)=abc(cage)3/2exp[‚àíb2(cage+agec‚àí2)]f(age) = \\frac{ab}{c} (\\frac{c}{age})^{3/2} exp[-b^2(\\frac{c}{age}+\\frac{age}{c}-2)] ,b,ca,b,c - parameters. Gamma model (sophisticated accurate, really sustainable due convergence issues) follows: f(age)=RŒì(b)cb(age‚àíd)b‚àí1exp[‚àí(age‚àídc)]f(age) = \\frac{R}{\\Gamma(b)c^b}(age-d)^{b-1} exp[-(\\frac{age-d}{c})] R,b,c,dR,b,c,d - parameters. Beta model (sophisticated even accurate Gamma, really sustainable due convergence issues) follows: f(age)=RB(,C)(Œ≤‚àíŒ±)‚àí(+C‚àí1)(age‚àíŒ±)(‚àí1)(Œ≤‚àíage)(B‚àí1)f(age) = \\frac{R}{B(,C)}(\\beta - \\alpha)^{-(+C-1)}(age - \\alpha)^{(-1)}(\\beta - age)^{(B-1)} B(.)B(.) beta function, R,Œ≤,Œ±R, \\beta, \\alpha - parameters C=((v‚àíŒ±)(Œ≤‚àív)œÑ2‚àí1)Œ≤‚àívŒ≤‚àíŒ±,=Cv‚àíŒ±Œ≤‚àívC = (\\frac{(v-\\alpha)(\\beta-v)}{\\tau^2} -1)\\frac{\\beta - v}{\\beta -\\alpha}, \\ \\ \\ = C\\frac{v-\\alpha}{\\beta - v} v,œÑ2v, \\tau^2 - parameters. Brass model (simplest inaccurate) follows: f(age)=c(age‚àíd)(d+w‚àíage)f(age) = c(age-d)(d+w-age) c,d,wc,d,w - parameters. Function returns list estimated model dataframe predicted ASFR. example shows model try approximate ASFR russian women 2010 using Gamma function. Lets plot modeled observed ASFR bootstrapped 95% CI. One can see model perfectly approximates real ASFR 15 40 ages, fit really good.  Lets now procedure Hadwiger function:  Lets now procedure Brass function:  Lets now procedure Beta function:","code":"approximation_2010 = fert.approx(fx = rus2010f$fx, age = 15:55, model = \"Gamma\", se = T)  approximation_2010[[1]] #> $type #> [1] \"Gamma\" #>  #> $params #>        R        b        c        d  #> 1.603196 8.517402 2.161279 9.043573  #>  #> $covmat #>               [,1]          [,2]          [,3]          [,4] #> [1,]  1.925014e+13 -1.957416e+06  4.238311e+06 -4.757733e+07 #> [2,] -1.957416e+06  8.352094e+01 -3.530959e+00 -3.494261e+01 #> [3,]  4.238311e+06 -3.530959e+00  3.685914e+00 -2.617387e+01 #> [4,] -4.757733e+07 -3.494261e+01 -2.617387e+01  2.616490e+02 #>  #> $prc #>     prc.low  prc.high #> R  1.563694  1.656541 #> b  6.303097 24.482427 #> c  1.272998  2.577443 #> d -6.864574 11.366677 #>  #> $rmse #> [1] 0.00301023 data = approximation_2010[[2]] ggplot(data = data, aes(x = age))+   geom_point(aes(y = fx, color = \"Observed fx\"), linewidth = 1)+   geom_line(aes(y = fx.model, color = \"fx from Gamma model\"), linewidth = 1)+   geom_ribbon(aes(ymin = prc.low, ymax = prc.high, x = age, color = \"95% CI\"),                alpha = 0, linetype = \"dashed\")+   scale_color_manual(values = c(\"red\", \"red\", \"black\"))+   labs(y = \"fx\", x = \"Age\")+   theme_linedraw() data = fert.approx(fx = rus2010f$fx, age = 15:55, model = \"Hadwiger\", se = T)[[2]] ggplot(data = data, aes(x = age))+   geom_point(aes(y = fx, color = \"Observed fx\"), linewidth = 1)+   geom_line(aes(y = fx.model, color = \"fx from Hadwiger model\"), linewidth = 1)+   geom_ribbon(aes(ymin = prc.low, ymax = prc.high, x = age, color = \"95% CI\"),                alpha = 0, linetype = \"dashed\")+   scale_color_manual(values = c(\"red\", \"red\", \"black\"))+   labs(y = \"fx\", x = \"Age\")+   theme_linedraw() data = fert.approx(fx = rus2010f$fx, age = 15:55, model = \"Brass\", se = T)[[2]] ggplot(data = data, aes(x = age))+   geom_point(aes(y = fx, color = \"Observed fx\"), linewidth = 1)+   geom_line(aes(y = fx.model, color = \"fx from Brass model\"), linewidth = 1)+   geom_ribbon(aes(ymin = prc.low, ymax = prc.high, x = age, color = \"95% CI\"),                alpha = 0, linetype = \"dashed\")+   scale_color_manual(values = c(\"red\", \"red\", \"black\"))+   labs(y = \"fx\", x = \"Age\")+   theme_linedraw() data = fert.approx(fx = rus2010f$fx, age = 15:55, model = \"Beta\", se = T)[[2]] ggplot(data = data, aes(x = age))+   geom_point(aes(y = fx, color = \"Observed fx\"), linewidth = 1)+   geom_line(aes(y = fx.model, color = \"fx from Beta model\"), linewidth = 1)+   geom_ribbon(aes(ymin = prc.low, ymax = prc.high, x = age, color = \"95% CI\"),                alpha = 0, linetype = \"dashed\")+   scale_color_manual(values = c(\"red\", \"red\", \"black\"))+   labs(y = \"fx\", x = \"Age\")+   theme_linedraw()"},{"path":[]},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"lee-carter-model","dir":"Articles","previous_headings":"Projections","what":"Lee-Carter model","title":"Get started with `demor`","text":"demor leecart() function provides users basic Lee-Carter model (proposed Lee Carter (1992) now lot extensions, partially implemented demor, see documentation) mortality forecasting: One can plot results using ggplot2 compare predicted data actual , however, requires data handling:  comparison different methods Lee-Carter model adjustment presented .","code":"dbm.1 <- demor::rosbris_mortality_pop_1  leecart_forecast <- leecart(data = dbm.1[dbm.1$code==1100 &                                             dbm.1$territory==\"t\" &                                             dbm.1$sex==\"m\" &                                             dbm.1$year %in% 2000:2019, c(\"year\", \"age\", \"mx\")],                              n = 3,                              sex = \"m\",                              ax_method = \"classic\",                             bx_method = \"classic\",                              model = \"RWwD\",                              ktadj = \"none\"                             ) leecart_forecast$ex0 %>% filter(year >= 2018) #>        year e0.obs e0.hat conf.low conf.high #> x.2018 2018  67.93  68.23       NA        NA #> x.2019 2019  68.50  68.88    68.88     68.88 #> y.1    2020     NA  69.35    68.65     70.05 #> y.2    2021     NA  69.83    68.84     70.82 #> y.3    2022     NA  70.31    69.10     71.52 #LE data calculation for(i in 2020:2022){   leecart_forecast$ex0[leecart_forecast$ex0$year ==i,]$e0.obs <-      LT(age = unique(dbm$age), sex = \"m\",        mx = dbm[dbm$year==i & dbm$territory == \"t\" & dbm$code == 1100 & dbm$sex == \"m\",]$mx)[1,\"ex\"] }  leecart_forecast$ex0 %>%    filter(year >= 2010) %>%    ggplot(aes(x = year)) +    geom_point(aes(y = e0.obs, color = \"Observed\")) +   geom_line(aes(y = e0.obs, color = \"Observed\")) +   geom_point(aes(y = e0.hat, color = \"Predicted\\n(counterfactual)\")) +    geom_line(aes(y = e0.hat, color = \"Predicted\\n(counterfactual)\")) +    geom_ribbon(aes(ymin = conf.low, ymax = conf.high), fill = \"pink\", alpha = 0.5)+   geom_vline(xintercept = 2019, linetype = \"dashed\", color = \"darkgrey\", linewidth = 1)+   scale_x_continuous(breaks = 2010:2024) +   scale_y_continuous(breaks = 58:74) +   theme_linedraw()+   theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust=1))+   scale_color_manual(values = c(\"black\", \"darkred\"))+   labs(x=\"Year\", y = \"Male's LE at birth\", colour = \"Data:\")"},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"leslie-matrix-cohort-component-model","dir":"Articles","previous_headings":"Projections","what":"Leslie matrix & Cohort-component model","title":"Get started with `demor`","text":"Leslie matrix powerful tool demographic analysis introduced Leslie (1945). nice detailed introduction matrix projections general, see Wachter (2014), p.¬†98-122. Also see R package demogR tutorial (Jones 2007) ‚Äúmatrix methods‚Äù demography. demor one can compute using mxm_x fxf_x age-specific mortality fertility rates respectively. Leslie matrix ùêã\\pmb L can expressed ùêã=ùêÖ+ùêå\\pmb L = \\pmb F + \\pmb M ùêÖ\\pmb F fertility component, nonzero values across first row, ùêå\\pmb M ‚Äúsurvival‚Äù component, ‚Äúshifted‚Äù diagonal matrix. ùêå\\pmb M one can compute life expectancy vector ùêû\\pmb e column sum matrix ùêÑ\\pmb E ùêÑ=(ùêà‚àíùêå)‚àí1 \\pmb E = (\\pmb - \\pmb M)^{-1} ùêû=ùêÑT√óùüè \\pmb e = \\pmb E^T \\times \\pmb 1 ùêà\\pmb identity matrix size ùêå\\pmb M (n√ónn \\times n) ùüè\\pmb 1 column vector size nn 1. , R graph compares life expectancy age x, exe_x, usual life table Leslie matrix (almost identical). However, discrepancy last age group , according life table, higher life expectancy Leslie model. last age-group survival rate calculating. classical Leslie model (default leslie) 0. can changed assuming Tx/Tx‚àí1T_x/T_{x-1} exe_x life table Leslie matrix identical (leslie one can write fin = TRUE get ; default, FALSE example).  Also ùêã\\pmb L one can compute stable population properties: stable age distribution, asymptotic growth rate, etc. details, references functions see Jones (2007), p.¬†10-24 R package demogR matrix demographic models analysis introduced. simple example ‚Äúhand‚Äù: graph compares observable stable age distributions Finally, one important implications Leslie matrix demographic projection concise efficient matrix form. ùêç(t+n)=ùêã√óùêç(t) \\pmb N(t+n) = \\pmb L \\times \\pmb N(t)  ùêç(t)\\pmb N(t) ùêç(t+n)\\pmb N(t+n) column-vectors population time tt t+nt+n respectively. mortality fertility rates constant time, population last year projection (horizon h) simply ùêç(t0+n√óh)=ùêãh√óùêç(t0) \\pmb N(t_0+n \\times h) = \\pmb L^h \\times \\pmb N(t_0) Usually calculate ùêãh\\pmb L^h easier (accurate) use iterative procedure since modern computers able second (reasonable horizon), one surely can diagonalize ùêã\\pmb L find transition matrix reach efficient (though less accurate) calculations. function cohort-component model ccm() presented. requires matrix dataframe future mxm_x fxf_x; vector initial population. Optionally, one can provide function matrix dataframe future net number migrants, default NULL (closed population model without external migration). produce constant rates model, one need make matrices identical columns, row age-specific rate column period. two graphs show dynamics total female population (mln) female population age structure (%) converges stable population age structure.","code":"mx <- dbm.1[dbm.1$code==1100 & dbm.1$territory==\"t\" & dbm.1$sex==\"f\" & dbm.1$year == 2022,]$mx fx <- dbf[dbf$code==1100 & dbf$territory==\"t\" & dbf$year == 2022,]$fx  les <- leslie(mx = mx, fx = fx, age.mx = 0:100, age.fx = 15:55, fin = F)  les[1:5, 1:5] #>           [,1]      [,2]      [,3]      [,4] [,5] #> [1,] 0.0000000 0.0000000 0.0000000 0.0000000    0 #> [2,] 0.9964981 0.0000000 0.0000000 0.0000000    0 #> [3,] 0.0000000 0.9996486 0.0000000 0.0000000    0 #> [4,] 0.0000000 0.0000000 0.9997589 0.0000000    0 #> [5,] 0.0000000 0.0000000 0.0000000 0.9998292    0 M <- les M[1,] <- 0 E <- solve(diag(nrow(M))-M) ex = t(E) %*% rep(1, nrow(E)) head(ex) #>          [,1] #> [1,] 77.89959 #> [2,] 77.16983 #> [3,] 76.19661 #> [4,] 75.21474 #> [5,] 74.22741 #> [6,] 73.23845 lambda = Re(eigen(les)$values) # largest real eigenvalue lvector = Re(eigen(les)$vectors[,which(lambda == max(lambda))]) # corresponding eigenvector stable_age = lvector / sum(lvector) # stable age distribution (normalized to sum to 1) N0 <- dbm.1[dbm.1$code==1100 & dbm.1$territory==\"t\" & dbm.1$sex==\"f\" & dbm.1$year == 2022,]$N  const.mx = matrix(rep(mx, each = 79), nrow = length(mx), byrow = TRUE) const.fx = matrix(rep(fx, each = 79), nrow = length(fx), byrow = TRUE)  Nt <- ccm(Mx.f = const.mx, Fx = const.fx, age.mx = 0:100, age.fx = 15:55, N0.f = N0, fin = F) colnames(Nt) <- 2022:2100  head(Nt)[,1:10] #>     2022     2023     2024     2025     2026     2027     2028     2029 #> 0 644191 615840.8 597083.2 580145.6 565349.8 552982.4 543233.6 536141.3 #> 1 675909 641935.1 613684.2 594992.3 578114.0 563370.0 551045.9 541331.2 #> 2 696760 675671.5 641709.5 613468.5 594783.2 577910.9 563172.0 550852.3 #> 3 736044 696592.0 675508.6 641554.8 613320.7 594639.8 577771.6 563036.2 #> 4 786765 735918.3 696473.1 675393.2 641445.3 613215.9 594538.2 577672.9 #> 5 856488 786646.4 735807.4 696368.1 675291.4 641348.6 613123.5 594448.6 #>       2030     2031 #> 0 531753.9 530166.4 #> 1 534263.8 529891.7 #> 2 541141.0 534076.0 #> 3 550719.5 541010.5 #> 4 562940.1 550625.4 #> 5 577585.8 562855.2 plot(2022:2100, colSums(Nt)/1e6, type = \"l\",       xlab = \"year\", ylab = \"Female Population (mln)\") Nt %>%    as.data.frame() %>%    mutate(age = 0:100) %>%    pivot_longer(!age, names_to = \"year\", values_to = \"pop\") %>%    mutate(year = as.numeric(year)) %>%    group_by(year) %>%    mutate(pop.s = 100*pop / sum(pop)) %>%    as.data.frame() %>%    ggplot(aes(x = age, y = pop.s))+   geom_line(aes(group = year, color = year))+   scale_color_gradient(low = \"pink\", high = \"steelblue\")+   geom_line(data = data.frame(age = 0:100, stable_age = 100*stable_age),              aes(x = age, y = stable_age, linetype = \"Stable age\\nstructure\"),              color = \"darkblue\")+   theme_classic()+   scale_linetype_manual(values = c(\"longdash\"))+   labs(x = \"age\", y = \"Age structure (%)\", color = \"Year:\", linetype = \"\")"},{"path":[]},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"population-pyramid","dir":"Articles","previous_headings":"Other functions","what":"Population pyramid","title":"Get started with `demor`","text":"plot_pyr plots population pyramid using ggplot2 Lets create population pyramid using midyear population Rosbris mortality data. already data dbm.  Also one can redesigned plot using ggplot2 commands. Also one can plot additional population (popm2 popf2) pyramid dashed line can helpful comparisons.","code":"plot_pyr(   popm = dbm[dbm$year==2022 & dbm$code==1100 & dbm$territory==\"t\" & dbm$sex==\"m\",]$N,   popf = dbm[dbm$year==2022 & dbm$code==1100 & dbm$territory==\"t\" & dbm$sex==\"f\",]$N,    age = dbm[dbm$year==2022 & dbm$code==1100 & dbm$territory==\"t\" & dbm$sex==\"f\",]$age) plot <-    plot_pyr(   popm = dbm[dbm$year==2010 & dbm$code==1100 & dbm$territory==\"t\" & dbm$sex==\"m\",]$N,   popf = dbm[dbm$year==2010 & dbm$code==1100 & dbm$territory==\"t\" & dbm$sex==\"f\",]$N,   popm2 = dbm[dbm$year==2022 & dbm$code==1100 & dbm$territory==\"t\" & dbm$sex==\"m\",]$N,   popf2 = dbm[dbm$year==2022 & dbm$code==1100 & dbm$territory==\"t\" & dbm$sex==\"f\",]$N,   age = dbm[dbm$year==2010 & dbm$code==1100 & dbm$territory==\"t\" & dbm$sex==\"f\",]$age)  plot +    labs(y = \"My y-axis\",         x = \"My age\",         caption = \"Data sourse: Rosbris\")+   ggtitle(\"Russian population in 2010\")+   scale_fill_manual(labels = c(\"f\", \"m\"), values = c(\"pink\", \"lightblue\"), name = \"Gender:\")+   theme_minimal()"},{"path":"https://vadvu.github.io/demor/articles/demor.html","id":"median-age","dir":"Articles","previous_headings":"Other functions","what":"Median age","title":"Get started with `demor`","text":"Also one can compute median age population, using vectors population sizes age groups age groups.","code":"#Using 1-year age interval med.age(N = dbm.1[dbm.1$year==2010 & dbm.1$code==1100 & dbm.1$territory==\"t\" & dbm.1$sex==\"m\",]$N,         age = dbm.1[dbm.1$year==2010 & dbm.1$code==1100 & dbm.1$territory==\"t\" & dbm.1$sex==\"m\",]$age,         int = 1) #> [1] 34.97  #Using 5-year age interval med.age(N = dbm[dbm$year==2010 & dbm$code==1100 & dbm$territory==\"t\" & dbm$sex==\"m\",]$N,         age = dbm[dbm$year==2010 & dbm$code==1100 & dbm$territory==\"t\" & dbm$sex==\"m\",]$age,         int = 5) #> [1] 34.99"},{"path":[]},{"path":"https://vadvu.github.io/demor/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Vadim Ustyuzhanin. Author, maintainer.","code":""},{"path":"https://vadvu.github.io/demor/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Ustyuzhanin V (2025). demor: Basic functions demographic analysis. R package version 1.0.5, https://vadvu.github.io/demor/.","code":"@Manual{,   title = {demor: Basic functions for demographic analysis},   author = {Vadim Ustyuzhanin},   year = {2025},   note = {R package version 1.0.5},   url = {https://vadvu.github.io/demor/}, }"},{"path":"https://vadvu.github.io/demor/index.html","id":"demor","dir":"","previous_headings":"","what":"Basic functions for demographic analysis","title":"Basic functions for demographic analysis","text":"goal demor provide : 1. basic functions demographic analysis 2. data Now, demor provides ability download Russian mortality/fertility data Rosbris (–†–æ—Å–ë–†–∏–°) user-friendly format. also includes functions building life tables, age cause decompositions, fitting Lee-Carter model, calculating years life lost, .","code":""},{"path":"https://vadvu.github.io/demor/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Basic functions for demographic analysis","text":"can install development version demor GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"vadvu/demor\")"},{"path":"https://vadvu.github.io/demor/index.html","id":"tutorial","dir":"","previous_headings":"Installation","what":"Tutorial","title":"Basic functions for demographic analysis","text":"Examples use demor can found website Get started section. detailed information function can found section website.","code":""},{"path":"https://vadvu.github.io/demor/index.html","id":"contact-information","dir":"","previous_headings":"Installation","what":"Contact Information","title":"Basic functions for demographic analysis","text":"comments demor (suggestions development, bug fixes, etc.), please, feel free contact via email: vvustiuzhanin@yandex.ru","code":""},{"path":"https://vadvu.github.io/demor/index.html","id":"acknowledgements","dir":"","previous_headings":"Installation","what":"Acknowledgements","title":"Basic functions for demographic analysis","text":"package created support Human Capital Multidisciplinary Center within project ‚ÄúDeveloping Multistate Demographic Models Russia context Educational Attainment Health Status / Life Expectancy‚Äù 075-15-2022-326","code":""},{"path":"https://vadvu.github.io/demor/reference/LT.html","id":null,"dir":"Reference","previous_headings":"","what":"Life table ‚Äî LT","title":"Life table ‚Äî LT","text":"Life table","code":""},{"path":"https://vadvu.github.io/demor/reference/LT.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Life table ‚Äî LT","text":"","code":"LT(age, sex = \"m\", mx, ax = NULL, w = NULL, l0 = 1)"},{"path":"https://vadvu.github.io/demor/reference/LT.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Life table ‚Äî LT","text":"age Numeric array age intervals; full life table = 0:100; concise life table = c(0:1, seq(5,85,5)) sex Character. Sex. \"m\" males \"f\" females. default = \"m\". mx Numeric array age specific mortality rates. ax Optional. Numeric array ax. default, middle interval, ax age 0 modeled Andreev & Kingkade (2015). w Optional. Numeric array weights age interval calculating weighted life expectancy (wex). l0 Numeric. Life table radix. default, = 1 can positive real number. \"human\" demography tradition 100'000, \"ecological\" \"evolutionary\" demography tradition 1.","code":""},{"path":"https://vadvu.github.io/demor/reference/LT.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Life table ‚Äî LT","text":"Matrix (age x 9). Columns : age, mx, ax, qx, lx, dx, Lx, Tx, ex","code":""},{"path":"https://vadvu.github.io/demor/reference/LT.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Life table ‚Äî LT","text":"default, \\(a_x\\) age 0 (first entity ax) modeled Andreev & Kingkade (2015, p. 390, see table 3-2). weighted life expectancy calculated follows: $$e_x^w = \\frac{\\sum_{= x}^{\\omega}L_x w_x}{l_x}$$ \\(\\omega\\) last age, \\(w\\) weight s.t. \\(w \\[0,1]\\), variables life table functions.","code":""},{"path":"https://vadvu.github.io/demor/reference/LT.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Life table ‚Äî LT","text":"Andreev, E. M., & Kingkade, W. W. (2015). Average age death infancy infant mortality level: Reconsidering Coale-Demeny formulas current levels low mortality. Demographic Research, 33, 363-390.","code":""},{"path":[]},{"path":"https://vadvu.github.io/demor/reference/MLT.html","id":null,"dir":"Reference","previous_headings":"","what":"Multiple Decrement Life Table ‚Äî MLT","title":"Multiple Decrement Life Table ‚Äî MLT","text":"Multiple Decrement Life Table","code":""},{"path":"https://vadvu.github.io/demor/reference/MLT.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Multiple Decrement Life Table ‚Äî MLT","text":"","code":"MLT(age, mx, ...)"},{"path":"https://vadvu.github.io/demor/reference/MLT.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Multiple Decrement Life Table ‚Äî MLT","text":"age Numeric array age intervals; full life table = 0:100; concise life table = c(0:1, seq(5,85,5)) mx List numeric arrays. 1st array -cause mx population, arrays cause-specific mx population. ... parameters function LT() including ax (default, middle interval), sex (default = \"m\" - males), l0 (default = 1).","code":""},{"path":"https://vadvu.github.io/demor/reference/MLT.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Multiple Decrement Life Table ‚Äî MLT","text":"Extended LT matrix","code":""},{"path":[]},{"path":"https://vadvu.github.io/demor/reference/ages.html","id":null,"dir":"Reference","previous_headings":"","what":"Split continuous ages to age groups ‚Äî ages","title":"Split continuous ages to age groups ‚Äî ages","text":"Split continuous ages age groups","code":""},{"path":"https://vadvu.github.io/demor/reference/ages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split continuous ages to age groups ‚Äî ages","text":"","code":"ages(x, groups, char = FALSE)"},{"path":"https://vadvu.github.io/demor/reference/ages.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split continuous ages to age groups ‚Äî ages","text":"x Array numeric values age groups Array numeric values lower boundaries age groups char Logical. output array numeric (FALSE) character (Factor) array (TRUE)","code":""},{"path":"https://vadvu.github.io/demor/reference/ages.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split continuous ages to age groups ‚Äî ages","text":"Array classified ages","code":""},{"path":"https://vadvu.github.io/demor/reference/ages.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Split continuous ages to age groups ‚Äî ages","text":"","code":"groups <- c(0,1,5,10,15,20, 24, 45, 85) x <- sample(0:100, 101) ages(x, groups, FALSE) #>   [1] 45 45 45 24 45 45 45  1 20 45 45  1 45 45 24 85 85 85 24 45 24 45 85  1 45 #>  [26] 24 45  5 24 45 45  5 20  5 85 85 15 45 45 85 85  0  5 45 45 45 45 24 85 45 #>  [51] 24  5 24 45 45 15 24 24 10 24 85 85 20  1 45 85 45 85 85 45 24 45 24 45 24 #>  [76] 45 10 45 45 85 45 24 24 45 10 45 45 24 15 24 15 10 15 85 24 45 20 45 10 45 #> [101] 24"},{"path":"https://vadvu.github.io/demor/reference/asdt.html","id":null,"dir":"Reference","previous_headings":"","what":"Associated single decrement life table (ASDT) for causes of death (cause-deleted life table) ‚Äî asdt","title":"Associated single decrement life table (ASDT) for causes of death (cause-deleted life table) ‚Äî asdt","text":"Associated single decrement life table (ASDT) causes death (cause-deleted life table)","code":""},{"path":"https://vadvu.github.io/demor/reference/asdt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Associated single decrement life table (ASDT) for causes of death (cause-deleted life table) ‚Äî asdt","text":"","code":"asdt(age, m_all, m_i, full = FALSE, method = \"chiang1968\", ...)"},{"path":"https://vadvu.github.io/demor/reference/asdt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Associated single decrement life table (ASDT) for causes of death (cause-deleted life table) ‚Äî asdt","text":"age Numeric array age intervals; full life table = 0:100; concise life table = c(0:1, seq(5,85,5)) m_all Numeric array age specific mortality rates causes death (usual mx). m_i Numeric array age specific mortality rates cause death () full Logical. full table needed? TRUE full, FALSE concise. default, FALSE method Character. method ASDT construction use. Now just \"chiang1968\" supported. ... Optional. Additional arguments LT() function.","code":""},{"path":"https://vadvu.github.io/demor/reference/asdt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Associated single decrement life table (ASDT) for causes of death (cause-deleted life table) ‚Äî asdt","text":"dataframe.","code":""},{"path":"https://vadvu.github.io/demor/reference/asdt.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Associated single decrement life table (ASDT) for causes of death (cause-deleted life table) ‚Äî asdt","text":"Chiang, L. (1968). Introduction Stochastic Processes Biostatistics. New York: John Wiley Sons.","code":""},{"path":"https://vadvu.github.io/demor/reference/asdtex.html","id":null,"dir":"Reference","previous_headings":"","what":"Data on mortality of US men in 2002 by some causes ‚Äî asdtex","title":"Data on mortality of US men in 2002 by some causes ‚Äî asdtex","text":"Data mortality US men 2002 causes","code":""},{"path":"https://vadvu.github.io/demor/reference/asdtex.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data on mortality of US men in 2002 by some causes ‚Äî asdtex","text":"","code":"asdtex"},{"path":[]},{"path":"https://vadvu.github.io/demor/reference/asdtex.html","id":"a-dataframe","dir":"Reference","previous_headings":"","what":"A dataframe","title":"Data on mortality of US men in 2002 by some causes ‚Äî asdtex","text":"age age neoplasms age specific mortality rate (asmr) Neoplasms circulatory asmr Diseases circulatory system respiratory asmr Diseases respiratory system digestive asmr Diseases digestive system asmr causes overall asmr","code":""},{"path":"https://vadvu.github.io/demor/reference/asdtex.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Data on mortality of US men in 2002 by some causes ‚Äî asdtex","text":"Andreev & Shkolnikov spreadsheet, can seen webpage","code":""},{"path":"https://vadvu.github.io/demor/reference/ccm.html","id":null,"dir":"Reference","previous_headings":"","what":"Cohort Component Model for Projecting Population. ‚Äî ccm","title":"Cohort Component Model for Projecting Population. ‚Äî ccm","text":"Cohort Component Model Projecting Population.","code":""},{"path":"https://vadvu.github.io/demor/reference/ccm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cohort Component Model for Projecting Population. ‚Äî ccm","text":"","code":"ccm(   Mx.f,   Mx.m = NULL,   Fx,   Ix.f = NULL,   Ix.m = NULL,   age.mx,   age.fx,   N0.f,   N0.m = NULL,   srb = 100/205,   ... )"},{"path":"https://vadvu.github.io/demor/reference/ccm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cohort Component Model for Projecting Population. ‚Äî ccm","text":"Mx.f Matrix dataframe mx females, row represents age, column represents forecasted period. Thus, first column first projected period, row represents age-specific mortality rate. Mx.m Optional. Matrix dataframe mx males, row represents age, column represents forecasted period. Thus, first column first projected period, row represents age-specific mortality rate. Fx Matrix dataframe fx, row represents age, column represents forecasted period. Thus, first column first projected period, row represents age-specific fertility rate. Ix.f Optional. Matrix dataframe net number female migrants, row represents age, column represents forecasted period. Thus, first column first projected period, row represents net number migrants. Ix.m Optional. Matrix dataframe net number male migrants, row represents age, column represents forecasted period. Thus, first column first projected period, row represents net number migrants. age.mx Numeric vector. Age groups Mx.f rows. age.fx Numeric vector. Age groups Fx rows. N0.f Numeric vector. Female population initial period age groups. N0.m Optional. Numeric vector. Male population initial period age groups. srb Numeric. Sex ratio birth females. default, 100/205. ... Optional. Additional arguments leslie() function.","code":""},{"path":"https://vadvu.github.io/demor/reference/ccm.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cohort Component Model for Projecting Population. ‚Äî ccm","text":"(List ) Matrices projected population. Columns represent periods, rows represent age groups. first column N0 (initial period).","code":""},{"path":"https://vadvu.github.io/demor/reference/ccm.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Cohort Component Model for Projecting Population. ‚Äî ccm","text":"model calculated matrix form $$\\mathbf{N}_{t+h} = \\mathbf{L}_t(\\mathbf{N}_{t} + \\mathbf{}_{t}/2) + \\mathbf{}_{t}/2$$ \\(\\mathbf{N}_t\\) column vector population time \\(t\\) \\(h\\) step projection (length age interval), \\(\\mathbf{L}_t\\) Leslie matrix \\(\\mathbf{}_{t}\\) column vector net migration. Note model assumes \\(\\mathbf{N}\\) age intervals (.e. \\(age = \\{0-1, 1-4, 5-9, ...\\}\\) permitted). Fortunately (thanks ), function handles situations automatically transforming age groups unified standard.","code":""},{"path":"https://vadvu.github.io/demor/reference/decomp.html","id":null,"dir":"Reference","previous_headings":"","what":"Age decomposition of mortality: single decrement process ‚Äî decomp","title":"Age decomposition of mortality: single decrement process ‚Äî decomp","text":"Age decomposition mortality: single decrement process","code":""},{"path":"https://vadvu.github.io/demor/reference/decomp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Age decomposition of mortality: single decrement process ‚Äî decomp","text":"","code":"decomp(mx1, mx2, sex = \"m\", age, method = \"andreev\", ax1 = NULL, ax2 = NULL)"},{"path":"https://vadvu.github.io/demor/reference/decomp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Age decomposition of mortality: single decrement process ‚Äî decomp","text":"mx1 Numeric array age specific mortality rates population 1 (base population). mx2 Numeric array age specific mortality rates population 2 (compared population). sex Character. Sex. \"m\" males \"f\" females. default, sex = \"m\". age Numeric array age intervals; full life table = 0:100; concise life table = c(0:1, seq(5,85,5)) method Character. Decomposition method. \"andreev\" (1982), \"arriaga\" (1984) \"pollard\" (1982) - slightly different results. default, method = \"andreev\". ax1 Optional. Numeric array ax 1st population. default, middle interval, ax age 0 modeled Andreev & Kingkade (2015). ax2 Optional. Numeric array ax 2nd population. default, middle interval, ax age 0 modeled Andreev & Kingkade (2015).","code":""},{"path":"https://vadvu.github.io/demor/reference/decomp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Age decomposition of mortality: single decrement process ‚Äî decomp","text":"dataframe parameters decomposition (depends method) decomposition years (ex12) percents (ex12_prc).","code":""},{"path":"https://vadvu.github.io/demor/reference/decomp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Age decomposition of mortality: single decrement process ‚Äî decomp","text":"Example decomposition using Andreev (1982) formulas: $$\\Delta_x = l_x^2(e_x^2 - e_x^1) - l_{x+n}^2(e_{x+n}^2 - e_{x+n}^1), \\ \\ \\ x \\neq \\omega$$ $$\\Delta_{\\omega} = l_{\\omega}^2(e_{\\omega}^2 - e_{\\omega}^1)$$ \\(\\Delta_x\\) absolute contribution age \\(x\\) difference \\(e_0\\) second first population. \\(e_x^, l_x^\\) life table functions population \\(\\). \\(\\omega\\) last age group. Note, \\(e_0^2 - e_0^1 = \\sum_{x}^{\\omega}\\Delta_x\\)","code":""},{"path":"https://vadvu.github.io/demor/reference/decomp.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Age decomposition of mortality: single decrement process ‚Äî decomp","text":"Arriaga, E. E. (1984). Measuring explaining change life expectancies. Demography, 21, 83-96. –ê–Ω–¥—Ä–µ–µ–≤ –ï.–ú. (1982). –ú–µ—Ç–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –∞–Ω–∞–ª–∏–∑–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∂–∏–∑–Ω–∏. –í–µ—Å—Ç–Ω–∏–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, 9, 42-47. Pollard, J. H. (1982). expectation life relationship mortality. Journal Institute Actuaries, 109(2), 225‚Äì240.","code":""},{"path":[]},{"path":"https://vadvu.github.io/demor/reference/demor-package.html","id":null,"dir":"Reference","previous_headings":"","what":"demor: Basic functions for demographic analysis ‚Äî demor-package","title":"demor: Basic functions for demographic analysis ‚Äî demor-package","text":"Basic functions demographic analysis.","code":""},{"path":[]},{"path":"https://vadvu.github.io/demor/reference/demor-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"demor: Basic functions for demographic analysis ‚Äî demor-package","text":"Maintainer: Vadim Ustyuzhanin vvustiuzhanin@yandex.ru (ORCID)","code":""},{"path":"https://vadvu.github.io/demor/reference/edagger.html","id":null,"dir":"Reference","previous_headings":"","what":"e-dagger ‚Äî edagger","title":"e-dagger ‚Äî edagger","text":"e-dagger","code":""},{"path":"https://vadvu.github.io/demor/reference/edagger.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"e-dagger ‚Äî edagger","text":"","code":"edagger(age, mx, ...)"},{"path":"https://vadvu.github.io/demor/reference/edagger.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"e-dagger ‚Äî edagger","text":"age Numeric array age intervals mx Numeric array age specific mortality rates. ... Optional. Additional arguments LT() function.","code":""},{"path":"https://vadvu.github.io/demor/reference/edagger.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"e-dagger ‚Äî edagger","text":"Numeric array","code":""},{"path":"https://vadvu.github.io/demor/reference/fert.approx.html","id":null,"dir":"Reference","previous_headings":"","what":"Fertility models for ASFR approximation ‚Äî fert.approx","title":"Fertility models for ASFR approximation ‚Äî fert.approx","text":"Fertility models ASFR approximation","code":""},{"path":"https://vadvu.github.io/demor/reference/fert.approx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fertility models for ASFR approximation ‚Äî fert.approx","text":"","code":"fert.approx(fx, age, model, start = NULL, se = FALSE, alpha = 0.05, bn = 1000)"},{"path":"https://vadvu.github.io/demor/reference/fert.approx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fertility models for ASFR approximation ‚Äî fert.approx","text":"fx Numeric vector age specific fertility rates. age Numeric vector ages. model Character. Model name estimated. Now \"Hadwiger\", \"Gamma\", \"Brass\" \"Beta\" supported. start Numeric vector user-specific values parameters optimization. Default NULL (choose automatically) se Logical. bootstrapped variance ASFR approximation calculated. Default FALSE bootstrap. alpha Numeric. Used se = TRUE, level uncertainty. default, alpha = 0.05 95% CI. bn Numeric. Used se = TRUE, number bootstrap samples. default, bn = 1000.","code":""},{"path":"https://vadvu.github.io/demor/reference/fert.approx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fertility models for ASFR approximation ‚Äî fert.approx","text":"list estimated model (parameters, variance-covariance matrix, percentiles parameters) dataframe predicted observed ASFR well SE percentile predictions","code":""},{"path":"https://vadvu.github.io/demor/reference/fert.approx.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fertility models for ASFR approximation ‚Äî fert.approx","text":"function runs least squares optimization (using default optim) selected fertility function 1e-06 tolerance parameter. \\(f_x\\) age-specific fertility rate age \\(x\\).","code":""},{"path":"https://vadvu.github.io/demor/reference/fert.approx.html","id":"hadwiger-model","dir":"Reference","previous_headings":"","what":"Hadwiger model","title":"Fertility models for ASFR approximation ‚Äî fert.approx","text":"model follows: $$f_x = \\frac{ab}{c} \\frac{c}{x}^{3/2} exp[-b^2(\\frac{c}{x}+\\frac{x}{c}-2)]$$ \\(,b,c\\) estimated parameters demographic interpretation. Sometimes \\(c\\) interpreted mean age childbearing.","code":""},{"path":"https://vadvu.github.io/demor/reference/fert.approx.html","id":"gamma-model","dir":"Reference","previous_headings":"","what":"Gamma model","title":"Fertility models for ASFR approximation ‚Äî fert.approx","text":"model follows: $$f_x = \\frac{R}{\\Gamma(b)c^b}(x-d)^{b-1} exp[-(\\frac{x-d}{c})]$$ \\(R,b,c,d\\) estimated parameters. \\(\\Gamma\\) gamma function. \\(R\\) can interpreted fertility level (TFR) \\(d\\) mean age childbearing.","code":""},{"path":"https://vadvu.github.io/demor/reference/fert.approx.html","id":"brass-model","dir":"Reference","previous_headings":"","what":"Brass model","title":"Fertility models for ASFR approximation ‚Äî fert.approx","text":"model follows: $$f_x = c(x-d)(d+w-x)$$ \\(c,d,w\\) estimated parameters.","code":""},{"path":"https://vadvu.github.io/demor/reference/fert.approx.html","id":"beta-model","dir":"Reference","previous_headings":"","what":"Beta model","title":"Fertility models for ASFR approximation ‚Äî fert.approx","text":"model follows: $$f_x = \\frac{R}{\\Beta(,C)}(\\beta - \\alpha)^{-(+C-1)}(x-\\alpha)^{(-1)}(\\beta-x)^{(B-1)}$$ \\(\\Beta\\) beta function, \\(R, \\beta, \\alpha\\) estimated parameters, can interpreted fertility level (TFR) max min age childbearing respectively. \\(,C\\) $$C = (\\frac{(v - \\alpha)(\\beta - v)}{\\tau^2} - 1)\\frac{\\beta - v}{\\beta - \\alpha}$$ $$= C\\frac{v-\\alpha}{v - \\beta}$$ \\(v, \\tau^2\\) estimated parameters, \\(v\\) can interpreted mean age childbearing. Thus, Beta model uses 5 parameters \\(R, \\beta, \\alpha, v, \\tau^2\\), \\(\\tau^2\\) demographic interpretation.","code":""},{"path":"https://vadvu.github.io/demor/reference/fert.approx.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Fertility models for ASFR approximation ‚Äî fert.approx","text":"Peristera, P., & Kostaki, . (2007). Modeling fertility modern populations. Demographic Research, 16, 141-194.","code":""},{"path":"https://vadvu.github.io/demor/reference/fert.approx.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fertility models for ASFR approximation ‚Äî fert.approx","text":"","code":"# fert.approx(fx = ASFR, age = 15:55, model = \"Hadwiger\", se = FALSE)"},{"path":"https://vadvu.github.io/demor/reference/gini.html","id":null,"dir":"Reference","previous_headings":"","what":"Gini coefficient of a life table ‚Äî gini","title":"Gini coefficient of a life table ‚Äî gini","text":"Gini coefficient life table","code":""},{"path":"https://vadvu.github.io/demor/reference/gini.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gini coefficient of a life table ‚Äî gini","text":"","code":"gini(age, mx, ...)"},{"path":"https://vadvu.github.io/demor/reference/gini.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gini coefficient of a life table ‚Äî gini","text":"age Numeric array age intervals mx Numeric array age specific mortality rates. ... Optional. Additional arguments LT() function.","code":""},{"path":"https://vadvu.github.io/demor/reference/gini.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Gini coefficient of a life table ‚Äî gini","text":"list G0 (Gini coefficient), G0_abs (absolute Gini coefficient) data Lorenz curve ($plot)","code":""},{"path":"https://vadvu.github.io/demor/reference/hli.html","id":null,"dir":"Reference","previous_headings":"","what":"The Human Life Indicator (HLI) ‚Äî hli","title":"The Human Life Indicator (HLI) ‚Äî hli","text":"Human Life Indicator (HLI)","code":""},{"path":"https://vadvu.github.io/demor/reference/hli.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The Human Life Indicator (HLI) ‚Äî hli","text":"","code":"hli(age, mx, ...)"},{"path":"https://vadvu.github.io/demor/reference/hli.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"The Human Life Indicator (HLI) ‚Äî hli","text":"age Numeric array age intervals; full life table = 0:100; concise life table = c(0:1, seq(5,85,5)) mx Numeric array age specific mortality rates. ... Optional. Additional arguments LT() function.","code":""},{"path":"https://vadvu.github.io/demor/reference/hli.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"The Human Life Indicator (HLI) ‚Äî hli","text":"HLI value","code":""},{"path":"https://vadvu.github.io/demor/reference/hli.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"The Human Life Indicator (HLI) ‚Äî hli","text":"calculated $$HLI = \\prod_{x=\\alpha}^{\\omega}(x + a_x)^{d_x}$$ \\(\\alpha, \\omega\\) first last age groups, \\(x\\) age, \\(a_x, d_x\\) life table functions (s.t. \\(\\sum_{x=\\alpha}^{\\omega} d_x = 1\\)).","code":""},{"path":"https://vadvu.github.io/demor/reference/hli.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"The Human Life Indicator (HLI) ‚Äî hli","text":"Ghislandi, S., Sanderson, W.C., & Scherbov, S. (2019). Simple Measure Human Development: Human Life Indicator. Population Development Review, 45, 219‚Äì233.","code":""},{"path":"https://vadvu.github.io/demor/reference/leecart.html","id":null,"dir":"Reference","previous_headings":"","what":"Lee-Carter model ‚Äî leecart","title":"Lee-Carter model ‚Äî leecart","text":"Lee-Carter model","code":""},{"path":"https://vadvu.github.io/demor/reference/leecart.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Lee-Carter model ‚Äî leecart","text":"","code":"leecart(   data,   n = 10,   alpha = 0.05,   model = \"RWwD\",   ax_method = \"classic\",   bx_method = \"classic\",   boot = FALSE,   bn = 1000,   ktadj = \"none\",   ... )"},{"path":"https://vadvu.github.io/demor/reference/leecart.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Lee-Carter model ‚Äî leecart","text":"data Dataframe long format following columns: age, year, mx (age specific mortality rates). types ktadj argument N (population age x) Dx (number deaths age x) columns also presented. n Numeric. Forecasted horizon alpha Numeric. level uncertainty. default, alpha = 0.05 95% CI. model Character. Model type kt forecasting. Can \"RWwD\" random walk drift (default, original Lee-Carter model) \"ARIMA\" ARIMA model parameters chosen automatically forecast::auto.arima(). ax_method Character. Method ax calculation. Can \"classic\" original Lee-Carter model (default), \"last\" \"last_smooth\". See details. bx_method Character. Method bx calculation. Can \"classic\" original Lee-Carter model (default) \"rotate\" rotating bx (Li et al., 2013). boot Logical. bootstrap estimates uncertainty used? FALSE default. bn Numeric. Used boot = TRUE, number bootstrap samples. default, bn = 1000. ktadj Character. Type kt adjustment. can set 'none' (defaukt, adjustment), 'Dmin', 'e0min', 'poisson' 'edaggermin' (see Details). Note 'Dmin' 'poisson' require data age-specific number deaths (Dx column data) age-specific population (N column data). ... Optional. Additional arguments LT() function.","code":""},{"path":"https://vadvu.github.io/demor/reference/leecart.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Lee-Carter model ‚Äî leecart","text":"Dataframe projected mx ex t+n periods mean, low95 high 95 values","code":""},{"path":"https://vadvu.github.io/demor/reference/leecart.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Lee-Carter model ‚Äî leecart","text":"model argument specifies forecasting method. model =\"RWwD\" ‚Äì classic random walk option model = \"ARIMA\" selecting complex time series model ax_method argument allows control a_x calculated. ax_method = \"classic\" ‚Äì classic option average logarithm mortality rates (-called \"jump-bias\"). ax_method = \"last\" uses logarithm mortality last available year (proposed Lee & Miller, 2001). ax_method = \"last_smooth\" uses data last year smoothing (see ≈†evƒç√≠kov√° et al., 2016, p. 288). bx_method argument allows control b_x calculated. bx_method = \"classic\" original method. bx_method = \"rotate\" rotational variant (see Li et al., 2013). ktadj argument allows control k_t calculated. ktadj = \"none\" adjustment. ktadj = \"Dmin\" minimizing deviance predicted/actual annual deaths (proposed original Lee-Carter paper). method requires data age-specific number deaths (Dx column data) age-specific population (N column data). ktadj = \"e0min\" minimizing deviance predicted/actual life expectancy (proposed Lee & Miller, 2001). ktadj = \"poisson\" minimizing deviance Poisson model, dependent variable age-specific annual number deaths (proposed Booth et al., 2002). method requires data age-specific number deaths (Dx column data) age-specific population (N column data). ktadj = \"edaggermin\" minimizing deviance predicted/actual edagger (see edagger()) proposed Rabbi & Mazzuco, 2021.","code":""},{"path":"https://vadvu.github.io/demor/reference/leecart.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Lee-Carter model ‚Äî leecart","text":"Booth, H., Maindonald, J., & Smith, L. (2002). Applying Lee-Carter conditions variable mortality decline. Population studies, 56(3), 325-336. https://doi.org/10.1080/00324720215935 Lee, R. D., & Carter, L. R. (1992). Modeling forecasting US mortality. Journal American Statistical Association, 87(419), 659‚Äì671. https://doi.org/10.1080/01621459.1992.10475265 Lee, R., & Miller, T. (2001). Evaluating performance lee-carter method forecasting mortality. Demography, 38(4), 537‚Äì549. https://doi.org/10.1353/dem.2001.0036 Li, N., Lee, R., & Gerland, P. (2013). Extending Lee-Carter Method Model Rotation Age Patterns Mortality Decline Long-Term Projections. Demography, 50(6), 2037‚Äì2051. https://doi.org/10.1007/s13524-013-0232-2 Rabbi, . M. F., & Mazzuco, S. (2021). Mortality forecasting lee‚Äìcarter method: Adjusting smoothing lifespan disparity. European Journal Population, 37(1), 97-120. https://doi.org/10.1007/s10680-020-09559-9 ≈†evƒç√≠kov√°, H., Li, N., Kantorov√°, V., Gerland, P., & Raftery, . E. (2016). Age-Specific Mortality Fertility Rates Probabilistic Population Projections. R. Schoen (Ed.), Dynamic Demographic Analysis (Vol. 39, pp. 285‚Äì310). Springer International Publishing. https://doi.org/10.1007/978-3-319-26603-9_15","code":""},{"path":"https://vadvu.github.io/demor/reference/leslie.html","id":null,"dir":"Reference","previous_headings":"","what":"Leslie Matrix ‚Äî leslie","title":"Leslie Matrix ‚Äî leslie","text":"Leslie Matrix","code":""},{"path":"https://vadvu.github.io/demor/reference/leslie.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Leslie Matrix ‚Äî leslie","text":"","code":"leslie(mx, fx, age.mx, age.fx, srb = 100/205, fin = TRUE, ...)"},{"path":"https://vadvu.github.io/demor/reference/leslie.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Leslie Matrix ‚Äî leslie","text":"mx Numeric array age specific mortality rates. fx Numeric array age specific fertility rates. age.mx Numeric array ages mx. age.fx Numeric array ages fx. srb Numeric. Sex ratio birth. Usually assumed males 105/205, females 100/205. default, 100/205. fin Logical. survival rate last age-group nonzero? default FALSE, last survival rate 0 classical model. Otherwise, \\(T_{x}/T_{x-1}\\). ... Optional. Additional arguments LT() function.","code":""},{"path":"https://vadvu.github.io/demor/reference/leslie.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Leslie Matrix ‚Äî leslie","text":"Matrix.","code":""},{"path":"https://vadvu.github.io/demor/reference/mac.html","id":null,"dir":"Reference","previous_headings":"","what":"Mean Age at Childbearing (MAC) ‚Äî mac","title":"Mean Age at Childbearing (MAC) ‚Äî mac","text":"Mean Age Childbearing (MAC)","code":""},{"path":"https://vadvu.github.io/demor/reference/mac.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mean Age at Childbearing (MAC) ‚Äî mac","text":"","code":"mac(fx, age)"},{"path":"https://vadvu.github.io/demor/reference/mac.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mean Age at Childbearing (MAC) ‚Äî mac","text":"fx Numeric array age specific fertility rates. age Numeric array ages. example, 15:55 1-year age-groups","code":""},{"path":"https://vadvu.github.io/demor/reference/mac.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mean Age at Childbearing (MAC) ‚Äî mac","text":"Numeric value.","code":""},{"path":"https://vadvu.github.io/demor/reference/mdecomp.html","id":null,"dir":"Reference","previous_headings":"","what":"Age and cause decomposition of differences in life expectancies ‚Äî mdecomp","title":"Age and cause decomposition of differences in life expectancies ‚Äî mdecomp","text":"Age cause decomposition differences life expectancies","code":""},{"path":"https://vadvu.github.io/demor/reference/mdecomp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Age and cause decomposition of differences in life expectancies ‚Äî mdecomp","text":"","code":"mdecomp(mx1, mx2, age, method = \"andreev\", ...)"},{"path":"https://vadvu.github.io/demor/reference/mdecomp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Age and cause decomposition of differences in life expectancies ‚Äî mdecomp","text":"mx1 List numeric arrays. 1st array -cause nmx 1st population, arrays cause-specific nmx 1st population mx2 List numeric arrays. 1st array -cause nmx 2nd population, arrays cause-specific nmx 2nd population age Numeric array age intervals; full life table = 0:100; concise life table = c(0:1, seq(5,85,5)) method Character. Decomposition method. \"andreev\" (1982) \"arriaga\" (1984) - slightly different results. default, method = \"andreev\". ... Optional. Additional arguments decomp().","code":""},{"path":"https://vadvu.github.io/demor/reference/mdecomp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Age and cause decomposition of differences in life expectancies ‚Äî mdecomp","text":"Dataframe 1st column overall decomposition (ex12), columns decompositions causes (cause())","code":""},{"path":"https://vadvu.github.io/demor/reference/mdecomp.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Age and cause decomposition of differences in life expectancies ‚Äî mdecomp","text":"contribution cause \\(c\\) absolute difference life expectancies first second population caculated $$\\Delta_{x,c} = \\frac{m^1_{x,c} - m^2_{x,c}}{m^1_{x} - m^2_{x}} \\times \\Delta_{x}$$ \\(\\Delta_{x}\\) contribution age \\(x\\) difference \\(e_0^2 - e_0^1\\) function decomp(), \\(m^i_{x,c}\\) age-specific mortality rate population \\(\\) cause \\(c\\), \\(m^i_x\\) total age-specific mortality rate.","code":""},{"path":[]},{"path":"https://vadvu.github.io/demor/reference/mdecompex.html","id":null,"dir":"Reference","previous_headings":"","what":"Data on mortality of US and England and Wales men in 2002 by some causes ‚Äî mdecompex","title":"Data on mortality of US and England and Wales men in 2002 by some causes ‚Äî mdecompex","text":"Data mortality US England Wales men 2002 causes","code":""},{"path":"https://vadvu.github.io/demor/reference/mdecompex.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data on mortality of US and England and Wales men in 2002 by some causes ‚Äî mdecompex","text":"","code":"mdecompex"},{"path":[]},{"path":"https://vadvu.github.io/demor/reference/mdecompex.html","id":"a-dataframe","dir":"Reference","previous_headings":"","what":"A dataframe","title":"Data on mortality of US and England and Wales men in 2002 by some causes ‚Äî mdecompex","text":"age age neoplasms age specific mortality rate (asmr) Neoplasms circulatory asmr Diseases circulatory system respiratory asmr Diseases respiratory system digestive asmr Diseases digestive system asmr causes overall asmr cnt country: usa - US, eng - England Wales","code":""},{"path":"https://vadvu.github.io/demor/reference/mdecompex.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Data on mortality of US and England and Wales men in 2002 by some causes ‚Äî mdecompex","text":"Andreev & Shkolnikov spreadsheet, can seen webpage","code":""},{"path":"https://vadvu.github.io/demor/reference/med.age.html","id":null,"dir":"Reference","previous_headings":"","what":"Median age calculation ‚Äî med.age","title":"Median age calculation ‚Äî med.age","text":"Median age calculation","code":""},{"path":"https://vadvu.github.io/demor/reference/med.age.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Median age calculation ‚Äî med.age","text":"","code":"med.age(N, age, int = 1)"},{"path":"https://vadvu.github.io/demor/reference/med.age.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Median age calculation ‚Äî med.age","text":"N Array numeric values population age group (young old) age Array numeric values age int Numeric value age interval. example, 1 5","code":""},{"path":"https://vadvu.github.io/demor/reference/med.age.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Median age calculation ‚Äî med.age","text":"Numeric value","code":""},{"path":"https://vadvu.github.io/demor/reference/mort.approx.html","id":null,"dir":"Reference","previous_headings":"","what":"Mortality models for mx approximation ‚Äî mort.approx","title":"Mortality models for mx approximation ‚Äî mort.approx","text":"Mortality models mx approximation","code":""},{"path":"https://vadvu.github.io/demor/reference/mort.approx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mortality models for mx approximation ‚Äî mort.approx","text":"","code":"mort.approx(mx, age, model = c(\"Brass\", \"Gompertz\"), standard.mx = NULL, ...)"},{"path":"https://vadvu.github.io/demor/reference/mort.approx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mortality models for mx approximation ‚Äî mort.approx","text":"mx Numeric vector age specific mortality rates. age Numeric vector ages. model Character. Model name estimated. Now \"Gompertz\" \"Brass\" supported. standard.mx Numeric vector age specific mortality rates standard population. Default NULL. ... Used Brass model. parameters function LT() including ax (default, middle interval), sex (default = \"m\" - males), l0 (default = 1).","code":""},{"path":"https://vadvu.github.io/demor/reference/mort.approx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mortality models for mx approximation ‚Äî mort.approx","text":"list estimated model dataframe predicted mortality rates.","code":""},{"path":"https://vadvu.github.io/demor/reference/mort.approx.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Mortality models for mx approximation ‚Äî mort.approx","text":"function runs least squares optimization selected mortality function using Gauss-Newton algorithm algorithm 2000 maximum iterations 1e-07 tolerance parameter. \"Gompertz\" usual OLS estimator used.","code":""},{"path":"https://vadvu.github.io/demor/reference/mort.approx.html","id":"gompertz-model","dir":"Reference","previous_headings":"","what":"Gompertz model","title":"Mortality models for mx approximation ‚Äî mort.approx","text":"model follows: $$m(age) = \\alpha e^{\\beta age}$$","code":""},{"path":"https://vadvu.github.io/demor/reference/mort.approx.html","id":"brass-model","dir":"Reference","previous_headings":"","what":"Brass model","title":"Mortality models for mx approximation ‚Äî mort.approx","text":"model follows: $$y(age) = \\alpha + \\beta y^{S}(age)$$ $$y(age) = \\frac{1}{2} ln[\\frac{q(age)}{1-q(age)}]$$ subscript S defines function standard population. get mx qx usual formula used: $$m(age) = \\frac{q(age)}{n-q(age)(n-(age))}$$ n size age interval (x) parameter life table.","code":""},{"path":"https://vadvu.github.io/demor/reference/mort.approx.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Mortality models for mx approximation ‚Äî mort.approx","text":"Preston, S. H., Heuveline, P., & Guillot, M. (2001). Demography: Measuring modeling population processes. Blackwell Publishers. (pdf)","code":""},{"path":"https://vadvu.github.io/demor/reference/mort.approx.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mortality models for mx approximation ‚Äî mort.approx","text":"","code":"# mort.approx(mx = mx, age = 0:100, model = \"Brass\", standard.mx = standard.mx, sex = \"m\")"},{"path":"https://vadvu.github.io/demor/reference/msm.table.html","id":null,"dir":"Reference","previous_headings":"","what":"Multi-state life table based on multi-state markov model from msm package ‚Äî msm.table","title":"Multi-state life table based on multi-state markov model from msm package ‚Äî msm.table","text":"Multi-state life table based multi-state markov model msm package","code":""},{"path":"https://vadvu.github.io/demor/reference/msm.table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Multi-state life table based on multi-state markov model from msm package ‚Äî msm.table","text":"","code":"msm.table(model, ages, start, covs)"},{"path":"https://vadvu.github.io/demor/reference/msm.table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Multi-state life table based on multi-state markov model from msm package ‚Äî msm.table","text":"model msm model. See details. ages Numeric vector ages. start Start values lx group presented numeric vector. covs List (age-invariant) covariates msm models.","code":""},{"path":"https://vadvu.github.io/demor/reference/msm.table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Multi-state life table based on multi-state markov model from msm package ‚Äî msm.table","text":"Table age (x), mx (transition rates death), lx (root table = 1), Lx, Tx ex groups whole population.","code":""},{"path":"https://vadvu.github.io/demor/reference/msm.table.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Multi-state life table based on multi-state markov model from msm package ‚Äî msm.table","text":"msm Multi-state Markov model continuous time, age time covariate. example, model = msm::msm(state~age, subject = id, covariates = ~ age + sex, data = data, ...)","code":""},{"path":"https://vadvu.github.io/demor/reference/msm.table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Multi-state life table based on multi-state markov model from msm package ‚Äî msm.table","text":"","code":"# model <- msm::msm(state~age, subject = id, covariates = ~ age + sex, data = data, ...) # table <- msm.table(model = model, ages = 20:80, start = c(1,0,0), covs = list(sex = 1))"},{"path":"https://vadvu.github.io/demor/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator ‚Äî %>%","title":"Pipe operator ‚Äî %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://vadvu.github.io/demor/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator ‚Äî %>%","text":"","code":"lhs %>% rhs"},{"path":"https://vadvu.github.io/demor/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator ‚Äî %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://vadvu.github.io/demor/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator ‚Äî %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://vadvu.github.io/demor/reference/plot_pyr.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot population pyramid ‚Äî plot_pyr","title":"Plot population pyramid ‚Äî plot_pyr","text":"Plot population pyramid","code":""},{"path":"https://vadvu.github.io/demor/reference/plot_pyr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot population pyramid ‚Äî plot_pyr","text":"","code":"plot_pyr(   popm,   popf,   popm2 = NULL,   popf2 = NULL,   age,   sexn = c(\"Males\", \"Females\"),   sexc = c(\"#ED0000B2\", \"#00468BB2\"),   age.cont = NULL,   un.intervals = TRUE )"},{"path":"https://vadvu.github.io/demor/reference/plot_pyr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot population pyramid ‚Äî plot_pyr","text":"popm Numeric vector male population popf Numeric vector female population popm2 Optional. Numeric vector second male population plotted line. popf2 Optional. Numeric vector second female population plotted line. age Numeric vector ages sexn Character array labels sexes. default = c(\"Males\", \"Females\") sexc Character array colors sexes. default = c(\"#ED0000B2\",\"#00468BB2\"), red blue age.cont Optional. Logical. age axis considered continuous scale? Recommend switch TRUE age intervals small (1 year) FALSE otherwise (ex., age interval 5 years). default function chooses value . un.intervals Logical. age groups unified? example, first second groups 0-1, 1-4, groups five-year, function automatically makes group 1-4 make intervals . default, TRUE.","code":""},{"path":"https://vadvu.github.io/demor/reference/plot_pyr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot population pyramid ‚Äî plot_pyr","text":"ggplot2 object","code":""},{"path":"https://vadvu.github.io/demor/reference/rosbris.codes.html","id":null,"dir":"Reference","previous_headings":"","what":"Rosbris' Region codes ‚Äî rosbris.codes","title":"Rosbris' Region codes ‚Äî rosbris.codes","text":"Rosbris' Region codes","code":""},{"path":"https://vadvu.github.io/demor/reference/rosbris.codes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rosbris' Region codes ‚Äî rosbris.codes","text":"","code":"rosbris.codes"},{"path":[]},{"path":"https://vadvu.github.io/demor/reference/rosbris.codes.html","id":"a-dataframe","dir":"Reference","previous_headings":"","what":"A dataframe","title":"Rosbris' Region codes ‚Äî rosbris.codes","text":"n number Region (sequence number) name Region name code Region unique code","code":""},{"path":"https://vadvu.github.io/demor/reference/rosbris.codes.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Rosbris' Region codes ‚Äî rosbris.codes","text":"Rosbris webpage","code":""},{"path":"https://vadvu.github.io/demor/reference/rosbris_fertility_pop_1.html","id":null,"dir":"Reference","previous_headings":"","what":"Rosbris' Fertility and population (1-year interval) ‚Äî rosbris_fertility_pop_1","title":"Rosbris' Fertility and population (1-year interval) ‚Äî rosbris_fertility_pop_1","text":"Rosbris' Fertility population (1-year interval)","code":""},{"path":"https://vadvu.github.io/demor/reference/rosbris_fertility_pop_1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rosbris' Fertility and population (1-year interval) ‚Äî rosbris_fertility_pop_1","text":"","code":"rosbris_fertility_pop_1"},{"path":[]},{"path":"https://vadvu.github.io/demor/reference/rosbris_fertility_pop_1.html","id":"a-dataframe","dir":"Reference","previous_headings":"","what":"A dataframe","title":"Rosbris' Fertility and population (1-year interval) ‚Äî rosbris_fertility_pop_1","text":"year year code number Region territory rural/urban/total age age fx ASFR N Population Bx Number Births name Region name","code":""},{"path":"https://vadvu.github.io/demor/reference/rosbris_fertility_pop_1.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Rosbris' Fertility and population (1-year interval) ‚Äî rosbris_fertility_pop_1","text":"Rosbris webpage","code":""},{"path":"https://vadvu.github.io/demor/reference/rosbris_fertility_pop_5.html","id":null,"dir":"Reference","previous_headings":"","what":"Rosbris' Fertility and population (5-year interval) ‚Äî rosbris_fertility_pop_5","title":"Rosbris' Fertility and population (5-year interval) ‚Äî rosbris_fertility_pop_5","text":"Rosbris' Fertility population (5-year interval)","code":""},{"path":"https://vadvu.github.io/demor/reference/rosbris_fertility_pop_5.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rosbris' Fertility and population (5-year interval) ‚Äî rosbris_fertility_pop_5","text":"","code":"rosbris_fertility_pop_5"},{"path":[]},{"path":"https://vadvu.github.io/demor/reference/rosbris_fertility_pop_5.html","id":"a-dataframe","dir":"Reference","previous_headings":"","what":"A dataframe","title":"Rosbris' Fertility and population (5-year interval) ‚Äî rosbris_fertility_pop_5","text":"year year code number Region territory rural/urban/total age age fx ASFR fx1 ASFR, 1 order fx2 ASFR, 2 order fx3 ASFR, 3 order fx4 ASFR, 4 order fx5 ASFR, 5+ order N Population Bx Number Births Bx1 Number Births, 1 order Bx2 Number Births, 2 order Bx3 Number Births, 3 order Bx4 Number Births, 4 order Bx5 Number Births, 5+ order name Region name","code":""},{"path":"https://vadvu.github.io/demor/reference/rosbris_fertility_pop_5.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Rosbris' Fertility and population (5-year interval) ‚Äî rosbris_fertility_pop_5","text":"Rosbris webpage","code":""},{"path":"https://vadvu.github.io/demor/reference/rosbris_mortality_pop_1.html","id":null,"dir":"Reference","previous_headings":"","what":"Rosbris' Mortality and population (1-year interval) ‚Äî rosbris_mortality_pop_1","title":"Rosbris' Mortality and population (1-year interval) ‚Äî rosbris_mortality_pop_1","text":"Rosbris' Mortality population (1-year interval)","code":""},{"path":"https://vadvu.github.io/demor/reference/rosbris_mortality_pop_1.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rosbris' Mortality and population (1-year interval) ‚Äî rosbris_mortality_pop_1","text":"","code":"rosbris_mortality_pop_1"},{"path":[]},{"path":"https://vadvu.github.io/demor/reference/rosbris_mortality_pop_1.html","id":"a-dataframe","dir":"Reference","previous_headings":"","what":"A dataframe","title":"Rosbris' Mortality and population (1-year interval) ‚Äî rosbris_mortality_pop_1","text":"year year code number Region territory rural/urban/total sex sex: /male/femal age age mx ASMR N Population Dx Number Deaths name Region name","code":""},{"path":"https://vadvu.github.io/demor/reference/rosbris_mortality_pop_1.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Rosbris' Mortality and population (1-year interval) ‚Äî rosbris_mortality_pop_1","text":"Rosbris webpage","code":""},{"path":"https://vadvu.github.io/demor/reference/rosbris_mortality_pop_5.html","id":null,"dir":"Reference","previous_headings":"","what":"Rosbris' Mortality and population (5-year interval) ‚Äî rosbris_mortality_pop_5","title":"Rosbris' Mortality and population (5-year interval) ‚Äî rosbris_mortality_pop_5","text":"Rosbris' Mortality population (5-year interval)","code":""},{"path":"https://vadvu.github.io/demor/reference/rosbris_mortality_pop_5.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rosbris' Mortality and population (5-year interval) ‚Äî rosbris_mortality_pop_5","text":"","code":"rosbris_mortality_pop_5"},{"path":[]},{"path":"https://vadvu.github.io/demor/reference/rosbris_mortality_pop_5.html","id":"a-dataframe","dir":"Reference","previous_headings":"","what":"A dataframe","title":"Rosbris' Mortality and population (5-year interval) ‚Äî rosbris_mortality_pop_5","text":"year year code number Region territory rural/urban/total sex sex: /male/femal age age mx ASMR N Population Dx Number Deaths name Region name","code":""},{"path":"https://vadvu.github.io/demor/reference/rosbris_mortality_pop_5.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Rosbris' Mortality and population (5-year interval) ‚Äî rosbris_mortality_pop_5","text":"Rosbris webpage","code":""},{"path":"https://vadvu.github.io/demor/reference/sle_stand.html","id":null,"dir":"Reference","previous_headings":"","what":"Data on Standard Life expectancies that is used for YLL calculations ‚Äî sle_stand","title":"Data on Standard Life expectancies that is used for YLL calculations ‚Äî sle_stand","text":"Data Standard Life expectancies used YLL calculations","code":""},{"path":"https://vadvu.github.io/demor/reference/sle_stand.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data on Standard Life expectancies that is used for YLL calculations ‚Äî sle_stand","text":"","code":"sle_stand"},{"path":[]},{"path":"https://vadvu.github.io/demor/reference/sle_stand.html","id":"a-dataframe","dir":"Reference","previous_headings":"","what":"A dataframe","title":"Data on Standard Life expectancies that is used for YLL calculations ‚Äî sle_stand","text":"stand Standard: 1 - World Health Organization Standard Life Expectancy single-age; 2 - Global Burden Disease studies (GBD) Global Health Estimates (GHE) Standard Life Expectancy 5-year age groups. age age ex Standard Life Expectancy","code":""},{"path":"https://vadvu.github.io/demor/reference/sle_stand.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Data on Standard Life expectancies that is used for YLL calculations ‚Äî sle_stand","text":"Martinez, R., Soliz, P., Caixeta, R., Ordunez, P. 2019. Reflection modern methods: years life lost due premature mortality‚Äîversatile comprehensive measure monitoring non-communicable disease mortality. International Journal Epidemiology 48, 1367‚Äì1376.","code":""},{"path":"https://vadvu.github.io/demor/reference/tatfr.html","id":null,"dir":"Reference","previous_headings":"","what":"Tempo-adjusted total fertility rate (TFR') ‚Äî tatfr","title":"Tempo-adjusted total fertility rate (TFR') ‚Äî tatfr","text":"Tempo-adjusted total fertility rate (TFR')","code":""},{"path":"https://vadvu.github.io/demor/reference/tatfr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tempo-adjusted total fertility rate (TFR') ‚Äî tatfr","text":"","code":"tatfr(past_fx, present_fx, post_fx, age)"},{"path":"https://vadvu.github.io/demor/reference/tatfr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tempo-adjusted total fertility rate (TFR') ‚Äî tatfr","text":"past_fx List numeric arrays age specific fertility rates period t-1 parity present_fx List numeric arrays age specific fertility rates period t parity (period interest) post_fx List numeric arrays age specific fertility rates period t+1 parity age Array numeric values age","code":""},{"path":"https://vadvu.github.io/demor/reference/tatfr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tempo-adjusted total fertility rate (TFR') ‚Äî tatfr","text":"list TFR' (tatfr) TFR' parity (tatfr_i, user-specific order lists), TFR (tfr) TFR parity (tfr_i)","code":""},{"path":"https://vadvu.github.io/demor/reference/tatfr.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Tempo-adjusted total fertility rate (TFR') ‚Äî tatfr","text":"indicator calculated follows $$TFR_{,t}' = \\frac{TFR_{,t}}{1-(M_{,t+1} - M_{,t-1}) / 2}$$ \\(TFR_{,t}', TFR_{,t}\\) tempo-adjusted usual total fertility rate parity \\(\\) time \\(t\\) respectively, \\(M_{,t}\\) mean age childbearing parity \\(\\) time \\(t\\). tempo-adjusted total fertility rate sum parity-specific \\(TFR_i'\\). Note, calculation done footnote 1 (Bongaarts & Feeney, 2000, p. 563). Unfortunately, original 1998 article provide exact formula, caused confusion academic circles.","code":""},{"path":"https://vadvu.github.io/demor/reference/tatfr.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Tempo-adjusted total fertility rate (TFR') ‚Äî tatfr","text":"Bongaarts, J., & Feeney, G. (1998). Quantum Tempo Fertility. Population Development Review, 24(2), 271‚Äì291. https://doi.org/10.2307/2807974 Bongaarts, J., & Feeney, G. (2000). Quantum Tempo Fertility: Reply. Population Development Review, 26(3), 560‚Äì564. https://doi.org/10.1111/j.1728-4457.2000.00560.x","code":""},{"path":[]},{"path":"https://vadvu.github.io/demor/reference/tfr.html","id":null,"dir":"Reference","previous_headings":"","what":"Total Fertility Rate (TFR) ‚Äî tfr","title":"Total Fertility Rate (TFR) ‚Äî tfr","text":"Total Fertility Rate (TFR)","code":""},{"path":"https://vadvu.github.io/demor/reference/tfr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Total Fertility Rate (TFR) ‚Äî tfr","text":"","code":"tfr(fx, age.int = 1)"},{"path":"https://vadvu.github.io/demor/reference/tfr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Total Fertility Rate (TFR) ‚Äî tfr","text":"fx Numeric array age specific fertility rates. age.int Numeric. Age group: 1 one-year, 5 five-year. age groups allowed.","code":""},{"path":"https://vadvu.github.io/demor/reference/tfr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Total Fertility Rate (TFR) ‚Äî tfr","text":"Numeric value.","code":""},{"path":"https://vadvu.github.io/demor/reference/yll.html","id":null,"dir":"Reference","previous_headings":"","what":"Years of Life Lost (YLL) calculation ‚Äî yll","title":"Years of Life Lost (YLL) calculation ‚Äî yll","text":"Years Life Lost (YLL) calculation","code":""},{"path":"https://vadvu.github.io/demor/reference/yll.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Years of Life Lost (YLL) calculation ‚Äî yll","text":"","code":"yll(   Dx,   type = c(\"yll\", \"yll.p\", \"yll.r\", \"asyr\"),   age.int = 5,   Dx_all = NULL,   pop = NULL,   w = NULL )"},{"path":"https://vadvu.github.io/demor/reference/yll.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Years of Life Lost (YLL) calculation ‚Äî yll","text":"Dx Array number deaths. type Character. Type YLL calculate. See details section. age.int Numeric. Age interval Dx. Can 1 5. Dx_all Array number deaths. Used yll.p type, Dx array cause-specific deaths. pop Array population. Used yll.r asyr types. w Array population weights direct standardization. Used asyr type.","code":""},{"path":"https://vadvu.github.io/demor/reference/yll.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Years of Life Lost (YLL) calculation ‚Äî yll","text":"list values.","code":""},{"path":"https://vadvu.github.io/demor/reference/yll.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Years of Life Lost (YLL) calculation ‚Äî yll","text":"Computes four types Years Life Lost (YLL) indicators: Absolute YLL (type = \"yll\"): $$YLL_{x,t,c} = D_{x,t,c} \\times SLE_x$$ \\(x,t,c\\) age, time, cause respectively, \\(D_{x,t,c}\\) deaths age \\(x\\) time \\(t\\) cause \\(c\\) \\(SLE_x\\) standard life expectancy age \\(x\\) YLL proportion (type = \"yll.p\"): $$YLL_{x,t,c}^p = \\frac{YLL_{x,t,c}}{YLL_{x,t}}$$ \\(YLL_{x,t} = \\sum_{c} YLL_{x,t,c}\\) (total YLL across causes) YLL rate (type = \"yll.r\"): $$YLL_{x,t,c}^r = \\left( \\frac{YLL_{x,t,c}}{N_{x,t}} \\right) \\times 100'000$$ \\(N_{x,t}\\) population age group \\(x\\) time \\(t\\) Age-standardized YLL rate (type = \"asyr\"): $$ASYR_{t,c} = \\sum_{x=\\alpha}^{\\omega} \\left( YLL_{x,t,c}^r \\times w_x \\right)$$ \\(\\alpha\\) \\(\\omega\\) corresponds first last age group, \\(w_x\\) standard population weight age \\(x\\).","code":""},{"path":"https://vadvu.github.io/demor/reference/yll.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Years of Life Lost (YLL) calculation ‚Äî yll","text":"Martinez, R., Soliz, P., Caixeta, R., & Ordunez, P. (2019). Reflection modern methods: years life lost due premature mortality‚Äîversatile comprehensive measure monitoring non-communicable disease mortality. International Journal Epidemiology, 48, 1367‚Äì1376.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"https://vadvu.github.io/demor/news/index.html","id":"demor-004","dir":"Changelog","previous_headings":"","what":"demor 0.0.4","title":"demor 0.0.4","text":"new functions","code":""},{"path":"https://vadvu.github.io/demor/news/index.html","id":"demor-002","dir":"Changelog","previous_headings":"","what":"demor 0.0.2","title":"demor 0.0.2","text":"Release stable version. Plans: Add functions fertility (first , functions adjusted (see, ex. ) TFR computations) Add cohort component model population projections","code":""}]
